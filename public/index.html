<!DOCTYPE html>
<html lang="uk">
<head>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nutriway ‚Äî Admin & FastDiet Edition</title>
    
    <!-- Tailwind CSS Config for Dark Mode -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            bg: '#111827', // gray-900
                            card: '#1f2937', // gray-800
                            input: '#374151', // gray-700
                        }
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.5s ease-out',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    <script src="script.js" defer></script>
    <link rel="stylesheet" href="style.css">
    <!-- <script src="style.css" defer></script> -->
    <!-- FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;800&family=Roboto:wght=400;700&family=Open+Sans&family=Oswald&family=Pacifico&family=Lobster&family=Amatic+SC&family=Merriweather&family=Comfortaa&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Play&family=Inter&family=Poppins&family=Lato&family=Nunito&family=Raleway&family=Ubuntu&family=DM+Sans&family=Manrope&family=Bebas+Neue&family=Anton&family=Playfair+Display&family=Cinzel&family=Dancing+Script&family=Great+Vibes&family=Indie+Flower&family=JetBrains+Mono&family=Fira+Code&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen transition-colors duration-300 dark:bg-gray-900 dark:text-gray-100">

    <div id="disclaimer-overlay">
        <div class="disclaimer-box">
            <h1 style="color: #FBBF24" data-lang-key="disclaimer_title">–£–í–ê–ì–ê!</h1>
            <p style="margin: 15px 0; color: #E5E7EB" data-lang-key="disclaimer_text_1">–í—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è, —Ä–æ–∑–º—ñ—â–µ–Ω–∞ –Ω–∞ –¥–∞–Ω–æ–º—É —Å–∞–π—Ç—ñ, –Ω–∞–¥–∞—î—Ç—å—Å—è –≤–∏–∫–ª—é—á–Ω–æ –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–æ—é —Ç–∞ –æ–∑–Ω–∞–π–æ–º—á–æ—é –º–µ—Ç–æ—é. –ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ —Å–∞–π—Ç—É –Ω–µ —î –º–µ–¥–∏—á–Ω–æ—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—î—é, –Ω–µ —î –¥—ñ–∞–≥–Ω–æ–∑–æ–º, –Ω–µ —î —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—î—é –¥–æ –ª—ñ–∫—É–≤–∞–Ω–Ω—è, –Ω–µ —î —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–º –ø–ª–∞–Ω–æ–º —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–µ –º–æ–∂—É—Ç—å –∑–∞–º—ñ–Ω–∏—Ç–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—é –ª—ñ–∫–∞—Ä—è, –¥—ñ—î—Ç–æ–ª–æ–≥–∞ –∞–±–æ —ñ–Ω—à–æ–≥–æ –∫–≤–∞–ª—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ–≥–æ —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–∞.</p>
            <p style="margin: 15px 0; color: #E5E7EB" data-lang-key="disclaimer_text_2">–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ü—ñ—è —Å–∞–π—Ç—É –Ω–µ –Ω–µ—Å–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –±—É–¥—å-—è–∫—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏, –ø—Ä—è–º—ñ –∞–±–æ –Ω–µ–ø—Ä—è–º—ñ, —â–æ –º–æ–∂—É—Ç—å –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –∑ —Ü—å–æ–≥–æ —Å–∞–π—Ç—É.</p>
            <button class="disclaimer-btn" onclick="closeDisclaimer()" data-lang-key="disclaimer_btn">–Ø –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é —É—Å–µ</button>
        </div>
    </div>

    <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è -->
    <nav class="fixed top-0 left-0 right-0 z-[60] bg-white/90 backdrop-blur-md border-b border-gray-100 transition-colors duration-300 dark:bg-gray-900/90 dark:border-gray-800">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2 cursor-pointer" onclick="showPage('home')">
                <i class="fas fa-route text-green-500 text-2xl"></i>
                <span class="text-xl font-bold tracking-tight text-gray-900 dark:text-white">Nutri<span class="text-green-500">way</span></span>
            </div>
            
            <div class="flex items-center gap-4">
                 <!-- –ö–ù–û–ü–ö–ê –ú–û–í–ò (NEW DESIGN) -->
                <button id="lang-toggle" onclick="toggleLanguage()" class="flex items-center gap-2 px-3 py-1.5 rounded-full bg-white dark:bg-gray-800 border-2 border-green-500 text-green-600 dark:text-green-400 font-bold hover:bg-green-500 hover:text-white dark:hover:text-white transition-all duration-300 shadow-sm" title="–ó–º—ñ–Ω–∏—Ç–∏ –º–æ–≤—É">
                    <i class="fas fa-globe"></i>
                    <span id="lang-text">UA</span>
                </button>

                <!-- –ö–ù–û–ü–ö–ê –ó–ú–Ü–ù–ò –¢–ï–ú–ò -->
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-yellow-400 transition transform hover:scale-110" title="–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É">
                    <i class="fas fa-moon text-xl"></i>
                </button>

                <button onclick="toggleMenu()" class="p-2 focus:outline-none text-gray-900 dark:text-white hover:text-green-500 transition">
                    <i id="menu-icon" class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Overlay -->
    <div id="menu-overlay" onclick="toggleMenu()"></div>

    <!-- –ë—É—Ä–≥–µ—Ä –ú–µ–Ω—é -->
    <div id="mobile-menu" class="fixed top-0 right-0 h-full z-50 bg-white dark:bg-gray-800 w-full sm:w-1/2 lg:w-1/4 flex flex-col p-8 pt-24 shadow-2xl">
        <div class="flex flex-col space-y-6 text-lg font-semibold text-gray-800 dark:text-gray-100">
            <a href="javascript:void(0)" onclick="showPage('home'); toggleMenu();" class="menu-item delay-1 hover:text-green-500 flex items-center space-x-4">
                <i class="fas fa-home w-6"></i> <span data-lang-key="menu_home">–ì–æ–ª–æ–≤–Ω–∞</span>
            </a>
            <!-- –ù–æ–≤–∏–π –ø—É–Ω–∫—Ç: –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è -->
            <a href="javascript:void(0)" onclick="showPage('info'); toggleMenu();" class="menu-item delay-2 hover:text-green-500 flex items-center space-x-4">
                <i class="fas fa-info-circle w-6"></i> <span data-lang-key="menu_info">–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</span>
            </a>
            <a href="javascript:void(0)" onclick="showPage('calculator'); toggleMenu();" class="menu-item delay-3 hover:text-green-500 flex items-center space-x-4">
                <i class="fas fa-calculator w-6"></i> <span data-lang-key="menu_calc">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</span>
            </a>
            <!-- –ù–æ–≤–∏–π –ø—É–Ω–∫—Ç: –î—ñ—î—Ç–∞ -->
            <a href="javascript:void(0)" onclick="showPage('diet'); toggleMenu();" class="menu-item delay-4 hover:text-green-500 flex items-center space-x-4">
                <i class="fas fa-apple-alt w-6"></i> <span data-lang-key="menu_diet">–î—ñ—î—Ç–∞</span>
            </a>
            
            <a href="javascript:void(0)" onclick="openAdminAuth(); toggleMenu();" class="menu-item delay-5 hover:text-red-500 flex items-center space-x-4 border-t border-gray-200 dark:border-gray-700 pt-4 mt-4">
                <i class="fas fa-cogs w-6"></i> <span data-lang-key="menu_admin">–ê–¥–º—ñ–Ω –ü–∞–Ω–µ–ª—å</span>
            </a>
        </div>
    </div>

    <!-- MAIN CONTENT AREA -->
    <div id="content-area">

        <!-- –ì–û–õ–û–í–ù–ê –°–¢–û–†–Ü–ù–ö–ê -->
        <main id="home-page" class="page-content active pt-16">
            <!-- Hero Section -->
            <header class="hero-gradient-bg text-white py-24 px-4 text-center relative overflow-hidden">
                <div class="container mx-auto relative z-10">
                    <h1 class="text-4xl md:text-6xl font-black mb-6 editable-text drop-shadow-md">Nutriway</h1>
                    <p class="text-lg opacity-90 mb-10 max-w-2xl mx-auto italic editable-text drop-shadow-sm" data-lang-key="hero_subtitle">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π —à–ª—è—Ö –¥–æ –∑–¥–æ—Ä–æ–≤'—è —Ç–∞ —ñ–¥–µ–∞–ª—å–Ω–æ—ó —Ñ–æ—Ä–º–∏.</p>
                    <div class="flex justify-center gap-4">
                        <button onclick="showPage('calculator')" class="bg-white text-blue-600 px-8 py-3 rounded-full font-bold hover:shadow-xl transition hover:scale-105" data-lang-key="hero_btn">–ü–æ—á–∞—Ç–∏ —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫</button>
                    </div>
                </div>
            </header>

            <!-- –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ -->
            <section class="py-20 container mx-auto px-4">
                <h2 class="text-3xl font-bold mb-12 text-center editable-text dark:text-white" data-lang-key="section_diag">–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</h2>
                <div id="diag-grid" class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-24 text-center">
                    <!-- Cards -->
                    <!-- <div class="p-6 bg-white dark:bg-gray-800 dark:border-gray-700 rounded-3xl shadow-md border border-gray-100 info-card transition-colors duration-1200">
                        <i class="fas fa-heartbeat text-red-500 text-3xl mb-4"></i>
                        <h3 class="font-bold mb-2 editable-text dark:text-white">–Ü–ú–¢</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400 editable-text">–û—Ü—ñ–Ω–∫–∞ –º–∞—Å–∏ —Ç—ñ–ª–∞.</p>
                    </div> -->
                    <div class="p-6 bg-white dark:bg-gray-800 dark:border-gray-700 rounded-3xl shadow-md border border-gray-100 info-card transition-all duration-500 ease-in-out hover:shadow-xl hover:-translate-y-1 cursor-pointer">
                        <i class="fas fa-heartbeat text-red-500 text-3xl mb-4"></i>
                        <h3 class="font-bold mb-2 editable-text dark:text-white" data-lang-key="card_imt">–Ü–ú–¢</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400 editable-text" data-lang-key="card_imt_desc">–û—Ü—ñ–Ω–∫–∞ –º–∞—Å–∏ —Ç—ñ–ª–∞.</p>
                    </div>
                    <div class="p-6 bg-white dark:bg-gray-800 dark:border-gray-700 rounded-3xl shadow-md border border-gray-100 info-card transition-all duration-500 ease-in-out hover:shadow-xl hover:-translate-y-1 cursor-pointer">
                        <i class="fas fa-fire text-orange-500 text-3xl mb-4"></i>
                        <h3 class="font-bold mb-2 editable-text dark:text-white" data-lang-key="card_cal">–ö–∞–ª–æ—Ä—ñ—ó</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400 editable-text" data-lang-key="card_cal_desc">–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –Ω–æ—Ä–º–∏.</p>
                    </div>
                    <div class="p-6 bg-white dark:bg-gray-800 dark:border-gray-700 rounded-3xl shadow-md border border-gray-100 info-card transition-all duration-500 ease-in-out hover:shadow-xl hover:-translate-y-1 cursor-pointer">
                        <i class="fas fa-pills text-purple-500 text-3xl mb-4"></i>
                        <h3 class="font-bold mb-2 editable-text dark:text-white" data-lang-key="card_vit">–í—ñ—Ç–∞–º—ñ–Ω–∏</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400 editable-text" data-lang-key="card_vit_desc">–ü—ñ–¥–±—ñ—Ä –Ω—É—Ç—Ä—ñ—î–Ω—Ç—ñ–≤.</p>
                    </div>
                    <div class="p-6 bg-white dark:bg-gray-800 dark:border-gray-700 rounded-3xl shadow-md border border-gray-100 info-card transition-all duration-500 ease-in-out hover:shadow-xl hover:-translate-y-1 cursor-pointer">
                        <i class="fas fa-bed text-blue-500 text-3xl mb-4"></i>
                        <h3 class="font-bold mb-2 editable-text dark:text-white" data-lang-key="card_sleep">–°–æ–Ω</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400 editable-text" data-lang-key="card_sleep_desc">–ù–æ—Ä–º–∏ –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É.</p>
                    </div>
                </div>

                <!-- –°–í–Ü–¢ NUTRIWAY -->
                <div class="space-y-24">
                    <div class="max-w-4xl mx-auto text-center">
                        <h2 class="text-4xl font-black text-gray-900 dark:text-white mb-4 editable-text" data-lang-key="world_title">–°–≤—ñ—Ç Nutriway</h2>
                        <p class="text-gray-500 dark:text-gray-400 text-lg editable-text" data-lang-key="world_subtitle">–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –≤–∞—à–æ–≥–æ —Ç—ñ–ª–∞.</p>
                    </div>

                    <div class="grid lg:grid-cols-2 gap-8 items-stretch">
                        <div class="info-card bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 p-8 md:p-12 rounded-[3rem] shadow-sm flex flex-col md:flex-row gap-8 items-center transition-all duration-500 ease-in-out hover:shadow-2xl hover:-translate-y-2 hover:border-green-200 dark:hover:border-green-900/30 cursor-pointer">
                                <div class="w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-3xl flex items-center justify-center shrink-0">
                                <i class="fas fa-seedling text-green-600 dark:text-green-400 text-4xl"></i>
                            </div>
                            <div>
                                <h3 class="text-2xl font-bold mb-3 editable-text dark:text-white" data-lang-key="feature_1_title">–ù—É—Ç—Ä–∏—Ü—ñ–æ–ª–æ–≥—ñ—è</h3>
                                <p class="text-gray-600 dark:text-gray-300 leading-relaxed text-sm editable-text" data-lang-key="feature_1_desc">–ú–∏ –≤–∏–≤—á–∞—î–º–æ, —è–∫ –∫–æ–∂–µ–Ω –Ω—É—Ç—Ä—ñ—î–Ω—Ç –≤–ø–ª–∏–≤–∞—î –Ω–∞ –µ–Ω–µ—Ä–≥—ñ—é.</p>
                            </div>
                        </div>

                        <div class="info-card bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 p-8 md:p-12 rounded-[3rem] shadow-sm flex flex-col md:flex-row gap-8 items-center transition-all duration-500 ease-in-out hover:shadow-2xl hover:-translate-y-2 hover:border-green-200 dark:hover:border-green-900/30 cursor-pointer">
                            <div class="w-24 h-24 bg-green-100 dark:bg-green-900/30 rounded-3xl flex items-center justify-center shrink-0">
                                <i class="fas fa-utensils text-green-400 text-4xl"></i>
                            </div>
                            <div>
                                <h3 class="text-2xl font-bold mb-3 editable-text dark:text-white" data-lang-key="feature_2_title">–†–æ–∑—É–º–Ω–∞ –î—ñ—î—Ç–∞</h3>
                                <p class="text-gray-600 dark:text-gray-300 leading-relaxed text-sm editable-text" data-lang-key="feature_2_desc">–ü—Ä–∞–≤–∏–ª–æ 80/20: 80% –∫–æ—Ä–∏—Å–Ω–æ—ó —ó–∂—ñ —Ç–∞ 20% –¥–ª—è –¥—É—à—ñ.</p>
                            </div>
                        </div>
                    </div>

                     <!-- –¢–∞—Ä—ñ–ª–∫–∞ –∑–¥–æ—Ä–æ–≤'—è -->
                    <div class="group bg-blue-500 dark:bg-[#0f172a] p-12 rounded-[3rem] text-white shadow-lg overflow-hidden relative transition-all duration-500 ease-in-out hover:shadow-2xl hover:-translate-y-2 cursor-pointer border border-transparent dark:border-blue-900/30">
                        <div class="absolute -top-24 -right-24 w-96 h-96 bg-blue-400/20 dark:bg-blue-600/10 rounded-full blur-[100px] transition-all duration-1000 ease-in-out group-hover:scale-150 group-hover:opacity-70 pointer-events-none"></div>
                        <div class="absolute -bottom-24 -left-24 w-80 h-80 bg-white/5 rounded-full blur-[80px] transition-all duration-1000 ease-in-out group-hover:scale-125 pointer-events-none"></div>

                        <i class="fas fa-tint absolute -right-10 -bottom-10 text-[12rem] opacity-10 transition-all duration-700 group-hover:rotate-12 group-hover:scale-110 group-hover:opacity-20 pointer-events-none"></i>

                        <div class="relative z-10 flex flex-col md:flex-row items-center gap-10">
                            
                            <div class="md:w-1/3">
                                <h3 class="text-3xl font-black mb-4 transition-transform duration-500 group-hover:translate-x-1" data-lang-key="water_title">–ì—ñ–¥—Ä–∞—Ç–∞—Ü—ñ—è ‚Äî —Ü–µ –±–∞–∑–∞</h3>
                                <p class="opacity-80 leading-relaxed text-blue-50" data-lang-key="water_desc">–í–æ–¥–∞ —Ä–µ–≥—É–ª—é—î —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —Ç—ñ–ª–∞, –≤–∏–≤–æ–¥–∏—Ç—å —Ç–æ–∫—Å–∏–Ω–∏ —Ç–∞ –ø–æ–∫—Ä–∞—â—É—î —Ä–æ–±–æ—Ç—É –º–æ–∑–∫—É. –ù–∞–≤—ñ—Ç—å 2% –¥–µ—Ñ—ñ—Ü–∏—Ç—É –≤–æ–¥–∏ –∑–Ω–∏–∂—É—é—Ç—å –≤–∞—à—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –Ω–∞–ø–æ–ª–æ–≤–∏–Ω—É.</p>
                            </div>

                            <div class="md:w-2/3 grid grid-cols-1 sm:grid-cols-3 gap-6">
                                
                                <div class="bg-white/10 dark:bg-white/5 p-6 rounded-2xl backdrop-blur-md border border-white/10 transition-all duration-500 hover:bg-white/20 hover:-translate-y-2">
                                    <h4 class="font-bold text-xl mb-2" data-lang-key="water_card1_title">30-35 –º–ª</h4>
                                    <p class="text-xs opacity-70 italic" data-lang-key="water_card1_desc">–Ω–∞ 1 –∫–≥ –≤–∞–≥–∏ ‚Äî –≤–∞—à–∞ —ñ–¥–µ–∞–ª—å–Ω–∞ –Ω–æ—Ä–º–∞ —á–∏—Å—Ç–æ—ó –≤–æ–¥–∏ –Ω–∞ –¥–æ–±—É.</p>
                                </div>

                                <div class="bg-white/10 dark:bg-white/5 p-6 rounded-2xl backdrop-blur-md border border-white/10 transition-all duration-500 hover:bg-white/20 hover:-translate-y-2">
                                    <h4 class="font-bold text-xl mb-2" data-lang-key="water_card2_title">–°–∫–ª—è–Ω–∫–∞ –∑—Ä–∞–Ω–∫—É</h4>
                                    <p class="text-xs opacity-70 italic" data-lang-key="water_card2_desc">–æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –ø—Ä–æ–±—É–¥–∂–µ–Ω–Ω—è, —â–æ–± "–∑–∞–ø—É—Å—Ç–∏—Ç–∏" —Ç—Ä–∞–≤–Ω—É —Å–∏—Å—Ç–µ–º—É.</p>
                                </div>

                                <div class="bg-white/10 dark:bg-white/5 p-6 rounded-2xl backdrop-blur-md border border-white/10 transition-all duration-500 hover:bg-white/20 hover:-translate-y-2">
                                    <h4 class="font-bold text-xl mb-2" data-lang-key="water_card3_title">–ë–µ–∑ —Ü—É–∫—Ä—É</h4>
                                    <p class="text-xs opacity-70 italic" data-lang-key="water_card3_desc">–∫–∞–≤–∞ —Ç–∞ —Å–æ–∫–∏ ‚Äî —Ü–µ —ó–∂–∞, –∞ –Ω–µ –≤–æ–¥–∞. –í—ñ–¥–¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–≤–∞–≥—É —á–∏—Å—Ç–æ–º—É —Ä–µ—Å—É—Ä—Å—É.</p>
                                </div>

                            </div>
                        </div>
                    </div>
                <div class="container mx-auto px-4 max-w-4xl">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-black text-gray-900 mb-4 transition-colors duration-300 dark:text-white" data-lang-key="faq_title">–ï–Ω—Ü–∏–∫–ª–æ–ø–µ–¥—ñ—è Nutriway</h2>
                    <p class="text-gray-500 italic" data-lang-key="faq_subtitle">–ú–∏ –∑—ñ–±—Ä–∞–ª–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –Ω–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à—ñ —Ç–∞ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à—ñ –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –∑–¥–æ—Ä–æ–≤‚Äô—è</p>
                </div>
                    </div>
                    <div class="space-y-4">
                        <div class="space-y-4">
                        <!-- 1 –ø–∏—Ç–∞–Ω–Ω—è -->
                        <div class="faq-item group border border-gray-100 rounded-[2rem] p-8 transition-all duration-300 cursor-pointer dark:bg-gray-800 dark:border-gray-700" onclick="this.classList.toggle('active')">
                            <div class="flex justify-between items-center">
                                <h4 class="font-bold text-lg dark:text-white" data-lang-key="faq_q1">‚óè –ß–∏ —Å–ø—Ä–∞–≤–¥—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–∏—Ç–∏ 2 –ª—ñ—Ç—Ä–∏ –≤–æ–¥–∏?</h4>
                                <i class="fas fa-plus text-green-500 transition-transform duration-300 group-[.active]:rotate-45"></i>
                            </div>
                            <div class="grid grid-rows-[0fr] transition-[grid-template-rows] duration-300 ease-in-out group-[.active]:grid-rows-[1fr]">
                                <div class="overflow-hidden">
                                    <div class="faq-answer pt-4 text-gray-600 leading-relaxed dark:text-gray-300" data-lang-key="faq_a1">
                                        –ù—ñ, –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è ¬´2 –ª—ñ—Ç—Ä–∏¬ª —î –∑–∞—Å—Ç–∞—Ä—ñ–ª–æ—é. –í–∞—à–∞ –Ω–æ—Ä–º–∞ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤–∞–≥–∏, —Ä—ñ–≤–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ç–∞ –∫–ª—ñ–º–∞—Ç—É.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 2 –ø–∏—Ç–∞–Ω–Ω—è -->
                        <div class="faq-item group border border-gray-100 rounded-[2rem] p-8 transition-all duration-300 cursor-pointer dark:bg-gray-800 dark:border-gray-700" onclick="this.classList.toggle('active')">
                            <div class="flex justify-between items-center">
                                <h4 class="font-bold text-lg dark:text-white" data-lang-key="faq_q2">‚óè –ß–∏ —Å–ø—Ä–∞–≤–¥—ñ —Ç—Ä–µ–±–∞ –Ω–µ —ó—Å—Ç–∏ –∫–æ–ª–∏ —Ç–∏ –Ω–∞ –¥—ñ—î—Ç—ñ?</h4>
                                <i class="fas fa-plus text-green-500 transition-transform duration-300 group-[.active]:rotate-45"></i>
                            </div>
                            <div class="grid grid-rows-[0fr] transition-[grid-template-rows] duration-300 ease-in-out group-[.active]:grid-rows-[1fr]">
                                <div class="overflow-hidden">
                                    <div class="faq-answer pt-4 text-gray-600 leading-relaxed dark:text-gray-300" data-lang-key="faq_a2">
                                        –ù—ñ, —Ç—Ä–µ–±–∞ —ó—Å—Ç–∏ –º–µ–Ω—à–µ –∫–∞–ª–æ—Ä—ñ–π –Ω—ñ–∂ —Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 3 –ø–∏—Ç–∞–Ω–Ω—è -->
                        <div class="faq-item group border border-gray-100 rounded-[2rem] p-8 transition-all duration-300 cursor-pointer dark:bg-gray-800 dark:border-gray-700" onclick="this.classList.toggle('active')">
                            <div class="flex justify-between items-center">
                                <h4 class="font-bold text-lg dark:text-white" data-lang-key="faq_q2">‚óè –ß–∏ —Å–ø—Ä–∞–≤–¥—ñ —Ç—Ä–µ–±–∞ –Ω–µ —ó—Å—Ç–∏ –∫–æ–ª–∏ —Ç–∏ –Ω–∞ –¥—ñ—î—Ç—ñ?</h4>
                                <i class="fas fa-plus text-green-500 transition-transform duration-300 group-[.active]:rotate-45"></i>
                            </div>
                            <div class="grid grid-rows-[0fr] transition-[grid-template-rows] duration-300 ease-in-out group-[.active]:grid-rows-[1fr]">
                                <div class="overflow-hidden">
                                    <div class="faq-answer pt-4 text-gray-600 leading-relaxed dark:text-gray-300" data-lang-key="faq_a2">
                                        –ù—ñ, —Ç—Ä–µ–±–∞ —ó—Å—Ç–∏ –º–µ–Ω—à–µ –∫–∞–ª–æ—Ä—ñ–π –Ω—ñ–∂ —Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 4 –ø–∏—Ç–∞–Ω–Ω—è -->
                        <div class="faq-item group border border-gray-100 rounded-[2rem] p-8 transition-all duration-300 cursor-pointer dark:bg-gray-800 dark:border-gray-700" onclick="this.classList.toggle('active')">
                            <div class="flex justify-between items-center">
                                <h4 class="font-bold text-lg dark:text-white" data-lang-key="faq_q2">‚óè –ß–∏ —Å–ø—Ä–∞–≤–¥—ñ —Ç—Ä–µ–±–∞ –Ω–µ —ó—Å—Ç–∏ –∫–æ–ª–∏ —Ç–∏ –Ω–∞ –¥—ñ—î—Ç—ñ?</h4>
                                <i class="fas fa-plus text-green-500 transition-transform duration-300 group-[.active]:rotate-45"></i>
                            </div>
                            <div class="grid grid-rows-[0fr] transition-[grid-template-rows] duration-300 ease-in-out group-[.active]:grid-rows-[1fr]">
                                <div class="overflow-hidden">
                                    <div class="faq-answer pt-4 text-gray-600 leading-relaxed dark:text-gray-300" data-lang-key="faq_a2">
                                        –ù—ñ, —Ç—Ä–µ–±–∞ —ó—Å—Ç–∏ –º–µ–Ω—à–µ –∫–∞–ª–æ—Ä—ñ–π –Ω—ñ–∂ —Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 5 –ø–∏—Ç–∞–Ω–Ω—è -->
                        <div class="faq-item group border border-gray-100 rounded-[2rem] p-8 transition-all duration-300 cursor-pointer dark:bg-gray-800 dark:border-gray-700" onclick="this.classList.toggle('active')">
                            <div class="flex justify-between items-center">
                                <h4 class="font-bold text-lg dark:text-white" data-lang-key="faq_q2">‚óè –ß–∏ —Å–ø—Ä–∞–≤–¥—ñ —Ç—Ä–µ–±–∞ –Ω–µ —ó—Å—Ç–∏ –∫–æ–ª–∏ —Ç–∏ –Ω–∞ –¥—ñ—î—Ç—ñ?</h4>
                                <i class="fas fa-plus text-green-500 transition-transform duration-300 group-[.active]:rotate-45"></i>
                            </div>
                            <div class="grid grid-rows-[0fr] transition-[grid-template-rows] duration-300 ease-in-out group-[.active]:grid-rows-[1fr]">
                                <div class="overflow-hidden">
                                    <div class="faq-answer pt-4 text-gray-600 leading-relaxed dark:text-gray-300" data-lang-key="faq_a2">
                                        –ù—ñ, —Ç—Ä–µ–±–∞ —ó—Å—Ç–∏ –º–µ–Ω—à–µ –∫–∞–ª–æ—Ä—ñ–π –Ω—ñ–∂ —Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
                </div>
            </section>  
        </main>

        <!-- –°–¢–û–†–Ü–ù–ö–ê: –Ü–ù–§–û–†–ú–ê–¶–Ü–Ø -->
        <main id="info-page" class="page-content pt-32 pb-20">
            <div class="container mx-auto px-4 max-w-5xl">
                <h2 class="text-4xl font-black text-center mb-8 editable-text dark:text-white" data-lang-key="info_title">–ö–æ—Ä–∏—Å–Ω–∞ –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h2>
                <p class="text-center text-gray-500 dark:text-gray-400 mb-12 max-w-2xl mx-auto" data-lang-key="info_subtitle">–î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ —Ç–µ, —è–∫ –ø—Ä–∞—Ü—é—î –≤–∞—à –æ—Ä–≥–∞–Ω—ñ–∑–º —Ç–∞ —è–∫—ñ –∑–≤–∏—á–∫–∏ –¥–æ–ø–æ–º–æ–∂—É—Ç—å –≤–∞–º –ø–æ—á—É–≤–∞—Ç–∏—Å—è –∫—Ä–∞—â–µ.</p>

                <div class="grid md:grid-cols-2 gap-8">
                    <!-- –°—Ç–∞—Ç—Ç—è 1 -->
                    <div class="bg-white dark:bg-gray-800 rounded-[2rem] overflow-hidden shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-2xl transition duration-300 article-card">
                        <div class="h-48 overflow-hidden bg-green-100 relative">
                            <img src="https://images.unsplash.com/photo-1490645935967-10de6ba17061?auto=format&fit=crop&w=800&q=80" alt="Healthy Food" class="w-full h-full object-cover article-image">
                            <div class="absolute top-4 right-4 bg-white dark:bg-gray-900 text-green-600 dark:text-green-400 text-xs font-bold px-3 py-1 rounded-full shadow-sm" data-lang-key="tag_food">–•–ê–†–ß–£–í–ê–ù–ù–Ø</div>
                        </div>
                        <div class="p-8">
                            <h3 class="text-2xl font-bold mb-4 dark:text-white" data-lang-key="article_1_title">–ü—Ä–∞–≤–∏–ª–æ —Ç–∞—Ä—ñ–ª–∫–∏</h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed" data-lang-key="article_1_desc">
                                –£—è–≤—ñ—Ç—å —Å–≤–æ—é —Ç–∞—Ä—ñ–ª–∫—É —Ä–æ–∑–¥—ñ–ª–µ–Ω–æ—é –Ω–∞ —á–∞—Å—Ç–∏–Ω–∏. –ü–æ–ª–æ–≤–∏–Ω—É –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–π–º–∞—Ç–∏ –æ–≤–æ—á—ñ —Ç–∞ –∑–µ–ª–µ–Ω—å, —á–≤–µ—Ä—Ç—å ‚Äî —è–∫—ñ—Å–Ω–∏–π –±—ñ–ª–æ–∫ (—Ä–∏–±–∞, –º'—è—Å–æ, —è–π—Ü—è), –∞ —â–µ —á–≤–µ—Ä—Ç—å ‚Äî —Å–∫–ª–∞–¥–Ω—ñ –≤—É–≥–ª–µ–≤–æ–¥–∏ (–∫–∞—à—ñ, —Ü—ñ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤–∏–π —Ö–ª—ñ–±). –¢–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –∑–∞–±–µ–∑–ø–µ—á—É—î –±–∞–ª–∞–Ω—Å –±–µ–∑ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –∫–∞–ª–æ—Ä—ñ–π.
                            </p>
                        </div>
                    </div>

                    <!-- –°—Ç–∞—Ç—Ç—è 2 -->
                    <div class="bg-white dark:bg-gray-800 rounded-[2rem] overflow-hidden shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-2xl transition duration-300 article-card">
                        <div class="h-48 overflow-hidden bg-blue-100 relative">
                             <img src="https://images.unsplash.com/photo-1517836357463-d25dfeac3438?auto=format&fit=crop&w=800&q=80" alt="Sport" class="w-full h-full object-cover article-image">
                             <div class="absolute top-4 right-4 bg-white dark:bg-gray-900 text-blue-600 dark:text-blue-400 text-xs font-bold px-3 py-1 rounded-full shadow-sm" data-lang-key="tag_sport">–°–ü–û–†–¢</div>
                        </div>
                        <div class="p-8">
                            <h3 class="text-2xl font-bold mb-4 dark:text-white" data-lang-key="article_2_title">–ß–æ–º—É –≤–∞–∂–ª–∏–≤–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å?</h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-4 leading-relaxed" data-lang-key="article_2_desc">
                                –†—É—Ö ‚Äî —Ü–µ –Ω–µ —Ç—ñ–ª—å–∫–∏ –ø—Ä–æ —Å–ø–∞–ª—é–≤–∞–Ω–Ω—è –∫–∞–ª–æ—Ä—ñ–π. –†–µ–≥—É–ª—è—Ä–Ω–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∑–Ω–∏–∂—É—î —Ä—ñ–≤–µ–Ω—å –∫–æ—Ä—Ç–∏–∑–æ–ª—É (–≥–æ—Ä–º–æ–Ω—É —Å—Ç—Ä–µ—Å—É), –ø–æ–∫—Ä–∞—â—É—î —á—É—Ç–ª–∏–≤—ñ—Å—Ç—å –¥–æ —ñ–Ω—Å—É–ª—ñ–Ω—É —Ç–∞ –∑–º—ñ—Ü–Ω—é—î —Å–µ—Ä—Ü–µ–≤–æ-—Å—É–¥–∏–Ω–Ω—É —Å–∏—Å—Ç–µ–º—É. –ù–∞–≤—ñ—Ç—å 30 —Ö–≤–∏–ª–∏–Ω —Ö–æ–¥—å–±–∏ –Ω–∞ –¥–µ–Ω—å –º–æ–∂—É—Ç—å –∑–º—ñ–Ω–∏—Ç–∏ –≤–∞—à–µ –∂–∏—Ç—Ç—è.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="mt-12 bg-indigo-50 dark:bg-indigo-900/20 p-8 rounded-[2rem] border border-indigo-100 dark:border-indigo-800 text-center">
                    <h3 class="text-2xl font-bold text-indigo-700 dark:text-indigo-300 mb-4" data-lang-key="mission_title">–ù–∞—à–∞ –ú—ñ—Å—ñ—è</h3>
                    <p class="text-indigo-900 dark:text-indigo-100 max-w-3xl mx-auto leading-relaxed" data-lang-key="mission_desc">
                        Nutriway —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ –∑–¥–æ—Ä–æ–≤–∏–π —Å–ø–æ—Å—ñ–± –∂–∏—Ç—Ç—è –¥–æ—Å—Ç—É–ø–Ω–∏–º —Ç–∞ –∑—Ä–æ–∑—É–º—ñ–ª–∏–º. –ú–∏ –≤—ñ—Ä–∏–º–æ, —â–æ –∑–¥–æ—Ä–æ–≤'—è –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø–æ—Ç—Ä–µ–± –≤–ª–∞—Å–Ω–æ–≥–æ —Ç—ñ–ª–∞, –∞ –Ω–µ –∑ –∂–æ—Ä—Å—Ç–∫–∏—Ö –æ–±–º–µ–∂–µ–Ω—å.
                    </p>
                </div>
            </div>
        </main>

        <!-- –°–¢–û–†–Ü–ù–ö–ê: –î–Ü–Ñ–¢–ê (–ü–£–°–¢–ê) -->
        <main id="diet-page" class="page-content pt-32 pb-20">
             <div class="container mx-auto px-4 max-w-5xl">
                <h2 class="text-4xl font-black text-center mb-12 editable-text dark:text-white" data-lang-key="menu_diet">–î—ñ—î—Ç–∞</h2>
                <div id="result" class="flex items-center justify-center h-64 border-2 border-dashed border-gray-300 rounded-3xl dark:border-gray-700">
                     <!--<p id ='result' class="text-xl text-gray-400 font-bold uppercase tracking-widest"> –í–≤–µ—Ä–¥—ñ—Ç—å –¥–∞–Ω–Ω—ñ</p>-->
                </div>
            </div>
        </main>

        <!-- –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† (–Ø–ö –ë–£–õ–û) -->
        <main id="calculator-page" class="page-content pt-32 pb-20">
            <div class="container mx-auto px-4 max-w-5xl">
                <h2 class="text-4xl font-black text-center mb-12 editable-text dark:text-white" data-lang-key="menu_calc">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h2>
                
                <div class="grid lg:grid-cols-1 gap-8">
                    <!-- INPUT FORM -->
                    <div class="bg-white dark:bg-gray-800 rounded-[2rem] p-8 shadow-xl border border-gray-100 dark:border-gray-700 max-w-3xl mx-auto w-full transition-colors duration-300">
                        <h3 class="font-bold text-gray-900 dark:text-white mb-6 flex items-center text-xl">
                            <i class="fas fa-user-edit mr-3 text-green-500"></i> <span data-lang-key="calc_params">–í–∞—à—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏</span>
                        </h3>
                        
                        <!-- Inputs -->
                        <div class="grid md:grid-cols-3 gap-6 mb-6">
                            <div>
                                <label class="text-xs font-bold text-gray-400 mb-2 block ml-1" data-lang-key="lbl_age">–í–Ü–ö (—Ä–æ–∫—ñ–≤)</label>
                                <input id="age" type="number" placeholder="25" class="w-full p-4 bg-gray-50 dark:bg-gray-700 dark:text-white rounded-2xl outline-none focus:ring-2 focus:ring-green-400 transition">
                            </div>
                            <div>
                                <label class="text-xs font-bold text-gray-400 mb-2 block ml-1" data-lang-key="lbl_height">–ó–†–Ü–°–¢ (—Å–º)</label>
                                <input id="height" type="number" placeholder="175" class="w-full p-4 bg-gray-50 dark:bg-gray-700 dark:text-white rounded-2xl outline-none focus:ring-2 focus:ring-green-400 transition">
                            </div>
                            <div>
                                <label class="text-xs font-bold text-gray-400 mb-2 block ml-1" data-lang-key="lbl_weight">–í–ê–ì–ê (–∫–≥)</label>
                                <input id="weight" type="number" placeholder="70" class="w-full p-4 bg-gray-50 dark:bg-gray-700 dark:text-white rounded-2xl outline-none focus:ring-2 focus:ring-green-400 transition">
                            </div>
                        </div>

                        <!-- <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label class="text-xs font-bold text-gray-400 mb-2 block ml-1">–ê–õ–ï–†–ì–Ü–á</label>
                                <input id="allergy" type="text" placeholder="–ì–æ—Ä—ñ—Ö–∏, –º–µ–¥..." class="w-full p-4 bg-gray-50 dark:bg-gray-700 dark:text-white rounded-2xl outline-none focus:ring-2 focus:ring-green-400 transition">
                            </div>
                            <div>
                                <label class="text-xs font-bold text-gray-400 mb-2 block ml-1">–ó–î–û–†–û–í'–Ø</label>
                                <input id="health" type="text" placeholder="–¢—Ä–∞–≤–º–∏..." class="w-full p-4 bg-gray-50 dark:bg-gray-700 dark:text-white rounded-2xl outline-none focus:ring-2 focus:ring-green-400 transition">
                            </div>
                        </div> -->

                        <div class="mb-6">
                            <label class="text-xs font-bold text-gray-400 mb-2 block ml-1" data-lang-key="lbl_sex">–°–¢–ê–¢–¨</label>
                            <div class="flex gap-4">
                                <label class="flex-1 cursor-pointer">
                                    <input id="gender"type="radio" name="gender" value="male" checked class="peer hidden">
                                    <div class="p-3 rounded-xl bg-gray-50 dark:bg-gray-700 dark:text-gray-300 text-center border-2 border-transparent peer-checked:border-green-500 peer-checked:bg-green-50 dark:peer-checked:bg-green-900/30 peer-checked:text-green-700 dark:peer-checked:text-green-400 transition font-bold text-sm" data-lang-key="opt_male">–ß–æ–ª–æ–≤—ñ–∫</div>
                                </label>
                                <label class="flex-1 cursor-pointer">
                                    <input id="gender" type="radio" name="gender" value="female" class="peer hidden">
                                    <div class="p-3 rounded-xl bg-gray-50 dark:bg-gray-700 dark:text-gray-300 text-center border-2 border-transparent peer-checked:border-green-500 peer-checked:bg-green-50 dark:peer-checked:bg-green-900/30 peer-checked:text-green-700 dark:peer-checked:text-green-400 transition font-bold text-sm" data-lang-key="opt_female">–ñ—ñ–Ω–∫–∞</div>
                                </label>
                            </div>
                        </div>

                        <div class="mb-8">
                            <label class="text-xs font-bold text-gray-400 mb-2 block ml-1" data-lang-key="lbl_activity">–ê–ö–¢–ò–í–ù–Ü–°–¢–¨</label>
                            <div class="grid grid-cols-3 sm:grid-cols-5 gap-2">
                                <label class="cursor-pointer">
                                    <input id="activity" type="radio" name="activity" value="low" class="peer hidden">
                                    <div class="p-2 rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-gray-300 text-center text-xs font-bold border dark:border-gray-600 peer-checked:bg-green-500 peer-checked:text-white transition" data-lang-key="act_low">–ù–∏–∑—å–∫–∞</div>
                                </label>
                                <label class="cursor-pointer">
                                    <input id="activity" type="radio" name="activity" value="small" class="peer hidden">
                                    <div class="p-2 rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-gray-300 text-center text-xs font-bold border dark:border-gray-600 peer-checked:bg-green-500 peer-checked:text-white transition" data-lang-key="act_small">–ú–∞–ª–∞</div>
                                </label>
                                <label class="cursor-pointer">
                                    <input id="activity" type="radio" name="activity" value="medium" checked class="peer hidden">
                                    <div class="p-2 rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-gray-300 text-center text-xs font-bold border dark:border-gray-600 peer-checked:bg-green-500 peer-checked:text-white transition" data-lang-key="act_medium">–°–µ—Ä–µ–¥–Ω—è</div>
                                </label>
                                <label class="cursor-pointer">
                                    <input id="activity" type="radio" name="activity" value="high" class="peer hidden">
                                    <div class="p-2 rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-gray-300 text-center text-xs font-bold border dark:border-gray-600 peer-checked:bg-green-500 peer-checked:text-white transition" data-lang-key="act_high">–í–∏—Å–æ–∫–∞</div>
                                </label>
                                <label class="cursor-pointer">
                                    <input id="activity" type="radio" name="activity" value="very_high" class="peer hidden">
                                    <div class="p-2 rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-gray-300 text-center text-xs font-bold border dark:border-gray-600 peer-checked:bg-green-500 peer-checked:text-white transition" data-lang-key="act_sport">–°–ø–æ—Ä—Ç</div>
                                </label>
                            </div>
                        </div>
                        
                        <div id="calc-error-msg" class="text-red-500 text-center mb-4 hidden font-bold" data-lang-key="err_fill">–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ!</div>

                        <!-- Main Action Button -->
                        <button onclick="showData()" class="w-full py-4 bg-gradient-to-r from-blue-500 to-green-500 text-white font-bold rounded-2xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition transform text-lg" data-lang-key="btn_calc">
                            –†–û–ó–†–ê–•–£–í–ê–¢–ò
                        </button>
                        <!-- <div class ="mb-8"> 
                            <label class="text-xs font-bold text-gray-400 mb-2 block ml-1">   </label>
                            <div></div>
                            <label class="text-xs font-bold text-gray-400 mb-2 block ml-1">   </label>
                            <div></div>
                         -->
                        
                        <!-- Confirmation Buttons (Hidden by default) -->
                        <div id="confirm-buttons" class="hidden mt-4 flex gap-4">
                             <button onclick="showResultsInPlace()" class="flex-1 py-3 bg-green-500 text-white rounded-xl font-bold hover:bg-green-600" data-lang-key="btn_correct">–î–∞–Ω—ñ –≤—ñ—Ä–Ω—ñ</button>
                             <button onclick="reTry()" class="flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600" data-lang-key="btn_fix">–í–∏–ø—Ä–∞–≤–∏—Ç–∏</button>
                        </div>
                    </div>

                    <!-- RESULTS AREA (MOVED BACK HERE) -->
                    <div id="resultArea" class="hidden animate-in fade-in slide-in-from-bottom-4 duration-500 space-y-8 max-w-3xl mx-auto w-full">
                        <div id="results-section" class="bg-white dark:bg-gray-800 rounded-[2rem] p-8 border border-gray-100 dark:border-gray-700 shadow-xl transition-colors duration-300 hidden">
                            <h4 class="font-bold text-gray-900 dark:text-white mb-6 flex items-center text-xl">
                                <i class="fas fa-book mr-3 text-purple-500"></i> <span data-lang-key="res_rec">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—é</span>
                            </h4>
                            <div class="grid md:grid-cols-2 gap-6 mb-6">
                                <div>
                                    <label class="text-xs font-bold text-gray-400 mb-2 block ml-1" data-lang-key="lbl_allergy">–ê–õ–ï–†–ì–Ü–á</label>
                                    <input id="allergy" type="text" placeholder="–ì–æ—Ä—ñ—Ö–∏, –º–µ–¥, –ª–∞–∫—Ç–æ–∑–∞..." class="w-full p-4 bg-gray-50 dark:bg-gray-700 dark:text-white rounded-2xl outline-none focus:ring-2 focus:ring-green-400 transition">
                                </div>
                            <div>
                                <label class="text-xs font-bold text-gray-400 mb-2 block ml-1" data-lang-key="lbl_health">–ó–î–û–†–û–í'–Ø</label>
                                <input id="health" type="text" placeholder="–¢—Ä–∞–≤–º–∏, —Ö–≤–æ—Ä–æ–±–∏..." class="w-full p-4 bg-gray-50 dark:bg-gray-700 dark:text-white rounded-2xl outline-none focus:ring-2 focus:ring-green-400 transition">
                            </div>
                        </div>

                        <div class="mt-6"> 
                            <button onclick="send(); showPage('diet'); get();" 
                                    class="w-full py-4 bg-gradient-to-r from-blue-500 to-green-500 text-white font-bold rounded-2xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition transform" data-lang-key="btn_get_rec">
                                –û–¢–†–ò–ú–ê–¢–ò –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–á
                            </button>
                        </div>
                        </div>

                         <!-- Main Stats -->
                         <div id="macros-section" class="bg-white dark:bg-gray-800 rounded-[2rem] p-8 border border-gray-100 dark:border-gray-700 shadow-xl transition-colors duration-300 hidden">
                            <h4 class="font-bold text-gray-900 dark:text-white mb-6 flex items-center text-xl">
                                <i class="fas fa-chart-pie mr-3 text-blue-500"></i> <span data-lang-key="res_main">–û—Å–Ω–æ–≤–Ω—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏</span>
                            </h4>
                            <div id="macros-grid-container" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <!-- Macros injected by JS -->
                            </div>
                            
                            <!-- IMT & Text Info -->
                            <div class="mt-6 p-6 bg-gray-50 dark:bg-gray-700/50 rounded-2xl border border-gray-200 dark:border-gray-600">
                                <div id="imt-display">
                                    <!-- IMT will be injected here -->
                                </div>
                                <div id="text-info" class="mt-4 text-sm text-gray-600 dark:text-gray-300 whitespace-pre-wrap leading-relaxed"></div>
                            </div>
                        </div>

                        <!-- Sleep Card -->
                        <div id="sleep-section" class="bg-white dark:bg-gray-800 rounded-[2rem] p-8 border border-gray-100 dark:border-gray-700 shadow-xl transition-colors duration-300 hidden">
                            <h4 class="font-bold text-gray-900 dark:text-white mb-6 flex items-center text-xl">
                                <i class="fas fa-bed mr-3 text-indigo-500"></i> <span data-lang-key="res_sleep">–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π —Å–æ–Ω</span>
                            </h4>
                            <div class="flex items-center p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-2xl border border-indigo-100 dark:border-indigo-800">
                                <div class="text-3xl text-indigo-500 mr-4"><i class="fas fa-moon"></i></div>
                                <div>
                                    <div class="text-xs text-gray-500 dark:text-gray-400 font-bold uppercase" data-lang-key="res_duration">–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å</div>
                                    <div id="sleep-value" class="text-xl font-bold text-gray-900 dark:text-white"></div>
                                </div>
                            </div>
                        </div>
                        <!-- Water Card -->
                        <div id="water-section" class="bg-white dark:bg-gray-800 rounded-[2rem] p-8 border border-gray-100 dark:border-gray-700 shadow-xl transition-colors duration-300 hidden">

                            <h4 class="font-bold text-gray-900 dark:text-white mb-6 flex items-center text-xl">
                                <i class="fas fa-tint mr-3 text-blue-500 text-2xl"></i> 
                                <span data-lang-key="res_water">–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–æ–¥–∏</span>
                            </h4>

                            <div class="flex items-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800">
                                
                                <div class="mini-glass mr-4">
                                    <div class="liquid-fill"></div>
                                </div>

                                <div>
                                    <div class="text-xs text-gray-500 dark:text-gray-400 font-bold uppercase" data-lang-key="res_amount">–ö—ñ–ª—å–∫—ñ—Å—Ç—å</div>
                                    <div id="water-value" class="text-xl font-bold text-gray-900 dark:text-white"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Vitamin Cards -->
                        <div id="vitamin-section" class="bg-white dark:bg-gray-800 rounded-[2rem] p-8 border border-gray-100 dark:border-gray-700 shadow-xl transition-colors duration-300 hidden">
                            <h4 class="font-bold text-gray-900 dark:text-white mb-6 flex items-center text-xl">
                                <i class="fas fa-capsules mr-3 text-purple-500"></i> <span data-lang-key="res_vit">–í–∞—à–∞ –≤—ñ—Ç–∞–º—ñ–Ω–Ω–∞ –∫–∞—Ä—Ç–∞</span>
                            </h4>
                            <div id="vitamin-grid-container" class="grid md:grid-cols-2 gap-4">
                                <!-- Cards injected by JS -->
                            </div>
                        </div>

                        
                </div>
            </div>
        </main>
    </div>

    <!-- ADMIN PANEL -->
    <div id="admin-panel">
        <h3 class="text-xl font-bold mb-4 border-b border-gray-600 pb-2">‚öôÔ∏è –ê–¥–º—ñ–Ω –ü–∞–Ω–µ–ª—å</h3>
        <div class="admin-row">
            <button class="btn-history" id="btn-undo" title="Undo"><i class="fas fa-undo"></i></button>
            <button class="btn-history" id="btn-redo" title="Redo"><i class="fas fa-redo"></i></button>
        </div>
        <div id="site-style-controls">
            <span class="admin-label text-blue-400">üé® –°—Ç–∏–ª—ñ –°–∞–π—Ç—É (–ì—Ä–∞–¥—ñ—î–Ω—Ç)</span>
            <span class="admin-label">–ö–æ–ª—ñ—Ä –í–µ—Ä—Ö / –ù–∏–∑:</span>
            <div class="admin-row">
                <input type="color" id="site-color-top" value="#059669">
                <input type="color" id="site-color-bot" value="#2563eb">
            </div>
            <span class="admin-label">–ö—É—Ç (deg):</span>
            <input type="number" id="site-gradient-angle" value="135" min="0" max="360" step="5">
        </div>
        <span class="admin-label mt-6">–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤</span>
        <button class="btn-tool" id="add-card-struct">üìÑ + –ö–∞—Ä—Ç–∫–∞</button>
        <button class="btn-tool" id="add-float-text">üí¨ + –¢–µ–∫—Å—Ç</button>
        <button class="btn-tool" id="add-float-img">üñºÔ∏è + –ö–∞—Ä—Ç–∏–Ω–∫–∞</button>
        <button class="btn-tool" id="add-hero-banner">üì¢ + –ë–∞–Ω–µ—Ä (Hero)</button>
        <div id="style-controls">
            <span class="admin-label text-yellow-400">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–æ—Ä</span>
            <span class="admin-label">–†–æ–∑–º—ñ—Ä (px):</span>
            <input type="number" id="font-size-input" value="16">
            <span class="admin-label">–®—Ä–∏—Ñ—Ç:</span>
            <select id="font-select"></select>
            <span class="admin-label">–ö–æ–ª—ñ—Ä —Ç–µ–∫—Å—Ç—É:</span>
            <input type="color" id="color-text">
            <span class="admin-label">–§–æ–Ω:</span>
            <div style="display: flex; gap: 5px;">
                <input type="color" id="color-bg" value="#ffffff">
                <button class="btn-tool" style="width: auto; margin: 5px 0 0;" id="btn-no-bg">X</button>
            </div>
            <div id="card-style-controls">
                <span class="admin-label text-purple-400">‚ú® –ì—Ä–∞–¥—ñ—î–Ω—Ç –ö–∞—Ä—Ç–∫–∏</span>
                <span class="admin-label">–í–µ—Ä—Ö–Ω—ñ–π –∫–æ–ª—ñ—Ä:</span>
                <input type="color" id="card-color-top" value="#667eea">
                <span class="admin-label">–ù–∏–∂–Ω—ñ–π –∫–æ–ª—ñ—Ä:</span>
                <input type="color" id="card-color-bot" value="#764ba2">
                <span class="admin-label">–ö–∞—Ä—Ç–∏–Ω–∫–∞ (URL):</span>
                <input type="text" id="card-img-url" placeholder="URL –∫–∞—Ä—Ç–∏–Ω–∫–∏...">
            </div>
            <div id="hero-style-controls">
                <span class="admin-label text-red-400">üî• –ë–∞–Ω–µ—Ä –ì—Ä–∞–¥—ñ—î–Ω—Ç</span>
                <span class="admin-label">–õ—ñ–≤–æ / –ü—Ä–∞–≤–æ:</span>
                <div class="admin-row">
                    <input type="color" id="hero-grad-top" value="#42a5f5">
                    <input type="color" id="hero-grad-bot" value="#26a69a">
                </div>
                <span class="admin-label">–ö–∞—Ä—Ç–∏–Ω–∫–∞ –∑–≤–µ—Ä—Ö—É (URL):</span>
                <input type="text" id="hero-img-url" placeholder="URL –∫–∞—Ä—Ç–∏–Ω–∫–∏...">
            </div>
            <button class="btn-tool" style="background: #c0392b; margin-top: 20px;" id="btn-delete">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏</button>
        </div>
        <button class="btn-tool" style="background: #7f8c8d; margin-top: 30px;" onclick="toggleAdmin(false)">–ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>

    <footer class="bg-white dark:bg-gray-900 border-t dark:border-gray-800 mt-auto text-center transition-colors duration-300 py-12">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-center space-x-2 mb-6">
                <i class="fas fa-route text-green-500"></i>
                <span class="text-xl font-bold text-gray-900 dark:text-white">Nutriway</span>
            </div>
            <p class="text-gray-400 dark:text-gray-600 text-[10px] font-bold uppercase tracking-[0.2em] editable-text">¬© 2025 <span data-lang-key="copyright">–í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ</span></p>
        </div>
    </footer>

    <script>
        // --- TRANSLATION LOGIC START ---
        const translations = {
            uk: {
                "disclaimer_title": "–£–í–ê–ì–ê!",
                "disclaimer_text_1": "–í—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è, —Ä–æ–∑–º—ñ—â–µ–Ω–∞ –Ω–∞ –¥–∞–Ω–æ–º—É —Å–∞–π—Ç—ñ, –Ω–∞–¥–∞—î—Ç—å—Å—è –≤–∏–∫–ª—é—á–Ω–æ –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–æ—é —Ç–∞ –æ–∑–Ω–∞–π–æ–º—á–æ—é –º–µ—Ç–æ—é. –ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ —Å–∞–π—Ç—É –Ω–µ —î –º–µ–¥–∏—á–Ω–æ—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—î—é, –Ω–µ —î –¥—ñ–∞–≥–Ω–æ–∑–æ–º, –Ω–µ —î —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—î—é –¥–æ –ª—ñ–∫—É–≤–∞–Ω–Ω—è, –Ω–µ —î —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–º –ø–ª–∞–Ω–æ–º —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–µ –º–æ–∂—É—Ç—å –∑–∞–º—ñ–Ω–∏—Ç–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—é –ª—ñ–∫–∞—Ä—è, –¥—ñ—î—Ç–æ–ª–æ–≥–∞ –∞–±–æ —ñ–Ω—à–æ–≥–æ –∫–≤–∞–ª—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ–≥–æ —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–∞.",
                "disclaimer_text_2": "–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ü—ñ—è —Å–∞–π—Ç—É –Ω–µ –Ω–µ—Å–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –±—É–¥—å-—è–∫—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏, –ø—Ä—è–º—ñ –∞–±–æ –Ω–µ–ø—Ä—è–º—ñ, —â–æ –º–æ–∂—É—Ç—å –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –∑ —Ü—å–æ–≥–æ —Å–∞–π—Ç—É.",
                "disclaimer_btn": "–Ø –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é —É—Å–µ",
                "menu_home": "–ì–æ–ª–æ–≤–Ω–∞",
                "menu_info": "–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è",
                "menu_calc": "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",
                "menu_diet": "–î—ñ—î—Ç–∞",
                "menu_admin": "–ê–¥–º—ñ–Ω –ü–∞–Ω–µ–ª—å",
                "hero_subtitle": "–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π —à–ª—è—Ö –¥–æ –∑–¥–æ—Ä–æ–≤'—è —Ç–∞ —ñ–¥–µ–∞–ª—å–Ω–æ—ó —Ñ–æ—Ä–º–∏.",
                "hero_btn": "–ü–æ—á–∞—Ç–∏ —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫",
                "section_diag": "–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
                "card_imt": "–Ü–ú–¢",
                "card_imt_desc": "–û—Ü—ñ–Ω–∫–∞ –º–∞—Å–∏ —Ç—ñ–ª–∞.",
                "card_cal": "–ö–∞–ª–æ—Ä—ñ—ó",
                "card_cal_desc": "–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –Ω–æ—Ä–º–∏.",
                "card_vit": "–í—ñ—Ç–∞–º—ñ–Ω–∏",
                "card_vit_desc": "–ü—ñ–¥–±—ñ—Ä –Ω—É—Ç—Ä—ñ—î–Ω—Ç—ñ–≤.",
                "card_sleep": "–°–æ–Ω",
                "card_sleep_desc": "–ù–æ—Ä–º–∏ –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É.",
                "world_title": "–°–≤—ñ—Ç Nutriway",
                "world_subtitle": "–ì–ª–∏–±–æ–∫–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –≤–∞—à–æ–≥–æ —Ç—ñ–ª–∞.",
                "feature_1_title": "–ù—É—Ç—Ä–∏—Ü—ñ–æ–ª–æ–≥—ñ—è",
                "feature_1_desc": "–ú–∏ –≤–∏–≤—á–∞—î–º–æ, —è–∫ –∫–æ–∂–µ–Ω –Ω—É—Ç—Ä—ñ—î–Ω—Ç –≤–ø–ª–∏–≤–∞—î –Ω–∞ –µ–Ω–µ—Ä–≥—ñ—é.",
                "feature_2_title": "–†–æ–∑—É–º–Ω–∞ –î—ñ—î—Ç–∞",
                "feature_2_desc": "–ü—Ä–∞–≤–∏–ª–æ 80/20: 80% –∫–æ—Ä–∏—Å–Ω–æ—ó —ó–∂—ñ —Ç–∞ 20% –¥–ª—è –¥—É—à—ñ.",
                "water_title": "–ì—ñ–¥—Ä–∞—Ç–∞—Ü—ñ—è ‚Äî —Ü–µ –±–∞–∑–∞",
                "water_desc": "–í–æ–¥–∞ —Ä–µ–≥—É–ª—é—î —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —Ç—ñ–ª–∞, –≤–∏–≤–æ–¥–∏—Ç—å —Ç–æ–∫—Å–∏–Ω–∏ —Ç–∞ –ø–æ–∫—Ä–∞—â—É—î —Ä–æ–±–æ—Ç—É –º–æ–∑–∫—É. –ù–∞–≤—ñ—Ç—å 2% –¥–µ—Ñ—ñ—Ü–∏—Ç—É –≤–æ–¥–∏ –∑–Ω–∏–∂—É—é—Ç—å –≤–∞—à—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –Ω–∞–ø–æ–ª–æ–≤–∏–Ω—É.",
                "water_card1_title": "30-35 –º–ª",
                "water_card1_desc": "–Ω–∞ 1 –∫–≥ –≤–∞–≥–∏ ‚Äî –≤–∞—à–∞ —ñ–¥–µ–∞–ª—å–Ω–∞ –Ω–æ—Ä–º–∞ —á–∏—Å—Ç–æ—ó –≤–æ–¥–∏ –Ω–∞ –¥–æ–±—É.",
                "water_card2_title": "–°–∫–ª—è–Ω–∫–∞ –∑—Ä–∞–Ω–∫—É",
                "water_card2_desc": "–æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –ø—Ä–æ–±—É–¥–∂–µ–Ω–Ω—è, —â–æ–± \"–∑–∞–ø—É—Å—Ç–∏—Ç–∏\" —Ç—Ä–∞–≤–Ω—É —Å–∏—Å—Ç–µ–º—É.",
                "water_card3_title": "–ë–µ–∑ —Ü—É–∫—Ä—É",
                "water_card3_desc": "–∫–∞–≤–∞ —Ç–∞ —Å–æ–∫–∏ ‚Äî —Ü–µ —ó–∂–∞, –∞ –Ω–µ –≤–æ–¥–∞. –í—ñ–¥–¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–≤–∞–≥—É —á–∏—Å—Ç–æ–º—É —Ä–µ—Å—É—Ä—Å—É.",
                "faq_title": "–ï–Ω—Ü–∏–∫–ª–æ–ø–µ–¥—ñ—è Nutriway",
                "faq_subtitle": "–ú–∏ –∑—ñ–±—Ä–∞–ª–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –Ω–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à—ñ —Ç–∞ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à—ñ –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –∑–¥–æ—Ä–æ–≤‚Äô—è",
                "faq_q1": "‚óè –ß–∏ —Å–ø—Ä–∞–≤–¥—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–∏—Ç–∏ 2 –ª—ñ—Ç—Ä–∏ –≤–æ–¥–∏?",
                "faq_a1": "–ù—ñ, –∫–æ–Ω—Ü–µ–ø—Ü—ñ—è ¬´2 –ª—ñ—Ç—Ä–∏¬ª —î –∑–∞—Å—Ç–∞—Ä—ñ–ª–æ—é. –í–∞—à–∞ –Ω–æ—Ä–º–∞ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤–∞–≥–∏, —Ä—ñ–≤–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ç–∞ –∫–ª—ñ–º–∞—Ç—É.",
                "faq_q2": "‚óè –ß–∏ —Å–ø—Ä–∞–≤–¥—ñ —Ç—Ä–µ–±–∞ –Ω–µ —ó—Å—Ç–∏ –∫–æ–ª–∏ —Ç–∏ –Ω–∞ –¥—ñ—î—Ç—ñ?",
                "faq_a2": "–ù—ñ, —Ç—Ä–µ–±–∞ —ó—Å—Ç–∏ –º–µ–Ω—à–µ –∫–∞–ª–æ—Ä—ñ–π –Ω—ñ–∂ —Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à.",
                "info_title": "–ö–æ—Ä–∏—Å–Ω–∞ –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è",
                "info_subtitle": "–î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ —Ç–µ, —è–∫ –ø—Ä–∞—Ü—é—î –≤–∞—à –æ—Ä–≥–∞–Ω—ñ–∑–º —Ç–∞ —è–∫—ñ –∑–≤–∏—á–∫–∏ –¥–æ–ø–æ–º–æ–∂—É—Ç—å –≤–∞–º –ø–æ—á—É–≤–∞—Ç–∏—Å—è –∫—Ä–∞—â–µ.",
                "tag_food": "–•–ê–†–ß–£–í–ê–ù–ù–Ø",
                "tag_sport": "–°–ü–û–†–¢",
                "article_1_title": "–ü—Ä–∞–≤–∏–ª–æ —Ç–∞—Ä—ñ–ª–∫–∏",
                "article_1_desc": "–£—è–≤—ñ—Ç—å —Å–≤–æ—é —Ç–∞—Ä—ñ–ª–∫—É —Ä–æ–∑–¥—ñ–ª–µ–Ω–æ—é –Ω–∞ —á–∞—Å—Ç–∏–Ω–∏. –ü–æ–ª–æ–≤–∏–Ω—É –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–π–º–∞—Ç–∏ –æ–≤–æ—á—ñ —Ç–∞ –∑–µ–ª–µ–Ω—å, —á–≤–µ—Ä—Ç—å ‚Äî —è–∫—ñ—Å–Ω–∏–π –±—ñ–ª–æ–∫ (—Ä–∏–±–∞, –º'—è—Å–æ, —è–π—Ü—è), –∞ —â–µ —á–≤–µ—Ä—Ç—å ‚Äî —Å–∫–ª–∞–¥–Ω—ñ –≤—É–≥–ª–µ–≤–æ–¥–∏ (–∫–∞—à—ñ, —Ü—ñ–ª—å–Ω–æ–∑–µ—Ä–Ω–æ–≤–∏–π —Ö–ª—ñ–±). –¢–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –∑–∞–±–µ–∑–ø–µ—á—É—î –±–∞–ª–∞–Ω—Å –±–µ–∑ –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –∫–∞–ª–æ—Ä—ñ–π.",
                "article_2_title": "–ß–æ–º—É –≤–∞–∂–ª–∏–≤–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å?",
                "article_2_desc": "–†—É—Ö ‚Äî —Ü–µ –Ω–µ —Ç—ñ–ª—å–∫–∏ –ø—Ä–æ —Å–ø–∞–ª—é–≤–∞–Ω–Ω—è –∫–∞–ª–æ—Ä—ñ–π. –†–µ–≥—É–ª—è—Ä–Ω–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∑–Ω–∏–∂—É—î —Ä—ñ–≤–µ–Ω—å –∫–æ—Ä—Ç–∏–∑–æ–ª—É (–≥–æ—Ä–º–æ–Ω—É —Å—Ç—Ä–µ—Å—É), –ø–æ–∫—Ä–∞—â—É—î —á—É—Ç–ª–∏–≤—ñ—Å—Ç—å –¥–æ —ñ–Ω—Å—É–ª—ñ–Ω—É —Ç–∞ –∑–º—ñ—Ü–Ω—é—î —Å–µ—Ä—Ü–µ–≤–æ-—Å—É–¥–∏–Ω–Ω—É —Å–∏—Å—Ç–µ–º—É. –ù–∞–≤—ñ—Ç—å 30 —Ö–≤–∏–ª–∏–Ω —Ö–æ–¥—å–±–∏ –Ω–∞ –¥–µ–Ω—å –º–æ–∂—É—Ç—å –∑–º—ñ–Ω–∏—Ç–∏ –≤–∞—à–µ –∂–∏—Ç—Ç—è.",
                "mission_title": "–ù–∞—à–∞ –ú—ñ—Å—ñ—è",
                "mission_desc": "Nutriway —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ –∑–¥–æ—Ä–æ–≤–∏–π —Å–ø–æ—Å—ñ–± –∂–∏—Ç—Ç—è –¥–æ—Å—Ç—É–ø–Ω–∏–º —Ç–∞ –∑—Ä–æ–∑—É–º—ñ–ª–∏–º. –ú–∏ –≤—ñ—Ä–∏–º–æ, —â–æ –∑–¥–æ—Ä–æ–≤'—è –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø–æ—Ç—Ä–µ–± –≤–ª–∞—Å–Ω–æ–≥–æ —Ç—ñ–ª–∞, –∞ –Ω–µ –∑ –∂–æ—Ä—Å—Ç–∫–∏—Ö –æ–±–º–µ–∂–µ–Ω—å.",
                "calc_params": "–í–∞—à—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏",
                "lbl_age": "–í–Ü–ö (—Ä–æ–∫—ñ–≤)",
                "lbl_height": "–ó–†–Ü–°–¢ (—Å–º)",
                "lbl_weight": "–í–ê–ì–ê (–∫–≥)",
                "lbl_sex": "–°–¢–ê–¢–¨",
                "opt_male": "–ß–æ–ª–æ–≤—ñ–∫",
                "opt_female": "–ñ—ñ–Ω–∫–∞",
                "lbl_activity": "–ê–ö–¢–ò–í–ù–Ü–°–¢–¨",
                "act_low": "–ù–∏–∑—å–∫–∞",
                "act_small": "–ú–∞–ª–∞",
                "act_medium": "–°–µ—Ä–µ–¥–Ω—è",
                "act_high": "–í–∏—Å–æ–∫–∞",
                "act_sport": "–°–ø–æ—Ä—Ç",
                "err_fill": "–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ!",
                "btn_calc": "–†–û–ó–†–ê–•–£–í–ê–¢–ò",
                "btn_correct": "–î–∞–Ω—ñ –≤—ñ—Ä–Ω—ñ",
                "btn_fix": "–í–∏–ø—Ä–∞–≤–∏—Ç–∏",
                "res_rec": "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—é",
                "lbl_allergy": "–ê–õ–ï–†–ì–Ü–á",
                "lbl_health": "–ó–î–û–†–û–í'–Ø",
                "btn_get_rec": "–û–¢–†–ò–ú–ê–¢–ò –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–á",
                "res_main": "–û—Å–Ω–æ–≤–Ω—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏",
                "res_sleep": "–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π —Å–æ–Ω",
                "res_duration": "–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å",
                "res_water": "–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–æ–¥–∏",
                "res_amount": "–ö—ñ–ª—å–∫—ñ—Å—Ç—å",
                "res_vit": "–í–∞—à–∞ –≤—ñ—Ç–∞–º—ñ–Ω–Ω–∞ –∫–∞—Ä—Ç–∞",
                "copyright": "–í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ",
                "hours": "–≥–æ–¥–∏–Ω",
                "liters": "–ª—ñ—Ç—Ä—ñ–≤",
                "macros_cal": "–ö–∞–ª–æ—Ä—ñ—ó",
                "macros_prot": "–ë—ñ–ª–∫–∏",
                "macros_fat": "–ñ–∏—Ä–∏",
                "macros_carb": "–í—É–≥–ª–µ–≤–æ–¥–∏",
                "imt_no_data": "–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö",
                "imt_severe_def": "–í–∏—Ä–∞–∂–µ–Ω–∏–π –¥–µ—Ñ—ñ—Ü–∏—Ç",
                "imt_def": "–î–µ—Ñ—ñ—Ü–∏—Ç –≤–∞–≥–∏",
                "imt_norm": "–ù–æ—Ä–º–∞",
                "imt_pre_obese": "–ü—Ä–µ–¥–æ–∂–∏—Ä—ñ–Ω–Ω—è",
                "imt_obese": "–û–∂–∏—Ä—ñ–Ω–Ω—è",
                "err_sus": "–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ —É –¥–∞–Ω–∏—Ö? –ó–Ω–∞—á–µ–Ω–Ω—è –≤–∏–≥–ª—è–¥–∞—é—Ç—å –ø—ñ–¥–æ–∑—Ä—ñ–ª–æ.",
                "vit_c_desc": "–ó–º—ñ—Ü–Ω—é—î —ñ–º—É–Ω—ñ—Ç–µ—Ç —Ç–∞ –¥–æ–ø–æ–º–∞–≥–∞—î –∑–∞—Å–≤–æ—î–Ω–Ω—é –∑–∞–ª—ñ–∑–∞",
                "vit_d_desc": "–ü–æ—Ç—Ä—ñ–±–Ω–∏–π –¥–ª—è –∫—ñ—Å—Ç–æ–∫ —Ç–∞ —ñ–º—É–Ω—ñ—Ç–µ—Ç—É",
                "vit_a_desc": "–ü—ñ–¥—Ç—Ä–∏–º—É—î –∑—ñ—Ä —ñ –∑–¥–æ—Ä–æ–≤‚Äô—è —à–∫—ñ—Ä–∏",
                "vit_b1_desc": "–ù–µ–æ–±—Ö—ñ–¥–Ω–∏–π –¥–ª—è –Ω–µ—Ä–≤–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏",
                "vit_b6_desc": "–í–∞–∂–ª–∏–≤–∏–π –¥–ª—è –º–æ–∑–∫—É —Ç–∞ –æ–±–º—ñ–Ω—É –±—ñ–ª–∫—ñ–≤",
                "vit_b12_desc": "–ü–æ—Ç—Ä—ñ–±–Ω–∏–π –¥–ª—è –∫—Ä–æ–≤—ñ —Ç–∞ –Ω–µ—Ä–≤—ñ–≤",
                "vit_approx": "–¶–µ –ø—Ä–∏–±–ª–∏–∑–Ω–æ",
                "vit_lemon": "–≥ –ª–∏–º–æ–Ω—É",
                "vit_salmon": "–≥ –ª–æ—Å–æ—Å—è",
                "vit_carrot": "–≥ –º–æ—Ä–∫–≤–∏",
                "vit_pork": "–≥ —Å–≤–∏–Ω–∏–Ω–∏",
                "vit_tuna": "–≥ —Ç—É–Ω—Ü—è",
                "vit_liver": "–≥ –∫—É—Ä—è—á–æ—ó –ø–µ—á—ñ–Ω–∫–∏"
            },
            en: {
                "disclaimer_title": "ATTENTION!",
                "disclaimer_text_1": "All information on this site is provided for informational purposes only. The materials on the site are not medical advice, diagnosis, treatment recommendation, or individual nutritional plan and cannot replace consultation with a doctor, nutritionist, or other qualified specialist.",
                "disclaimer_text_2": "The site administration is not responsible for any consequences, direct or indirect, arising from the use of information from this site.",
                "disclaimer_btn": "I confirm everything",
                "menu_home": "Home",
                "menu_info": "Info",
                "menu_calc": "Calculator",
                "menu_diet": "Diet",
                "menu_admin": "Admin Panel",
                "hero_subtitle": "Your personal path to health and ideal shape.",
                "hero_btn": "Start Calculation",
                "section_diag": "Complex Diagnostics",
                "card_imt": "BMI",
                "card_imt_desc": "Body mass assessment.",
                "card_cal": "Calories",
                "card_cal_desc": "Norm calculation.",
                "card_vit": "Vitamins",
                "card_vit_desc": "Nutrient selection.",
                "card_sleep": "Sleep",
                "card_sleep_desc": "Rest norms.",
                "world_title": "World of Nutriway",
                "world_subtitle": "Deep understanding of your body.",
                "feature_1_title": "Nutritiology",
                "feature_1_desc": "We study how each nutrient affects energy.",
                "feature_2_title": "Smart Diet",
                "feature_2_desc": "80/20 Rule: 80% healthy food and 20% for the soul.",
                "water_title": "Hydration is basic",
                "water_desc": "Water regulates body temperature, removes toxins, and improves brain function. Even a 2% water deficit reduces your productivity by half.",
                "water_card1_title": "30-35 ml",
                "water_card1_desc": "per 1 kg of weight ‚Äî your ideal norm of pure water per day.",
                "water_card2_title": "Glass in the morning",
                "water_card2_desc": "immediately after waking up to \"start\" the digestive system.",
                "water_card3_title": "No sugar",
                "water_card3_desc": "coffee and juices are food, not water. Prefer pure resource.",
                "faq_title": "Nutriway Encyclopedia",
                "faq_subtitle": "We have collected answers to the most difficult and important questions about health",
                "faq_q1": "‚óè Is it really necessary to drink 2 liters of water?",
                "faq_a1": "No, the \"2 liters\" concept is outdated. Your norm depends on weight, activity level, and climate.",
                "faq_q2": "‚óè Should you really not eat when on a diet?",
                "faq_a2": "No, you need to eat fewer calories than you use.",
                "info_title": "Useful Information",
                "info_subtitle": "Learn more about how your body works and what habits will help you feel better.",
                "tag_food": "NUTRITION",
                "tag_sport": "SPORT",
                "article_1_title": "The Plate Rule",
                "article_1_desc": "Imagine your plate divided into parts. Half should be vegetables and greens, a quarter - high-quality protein (fish, meat, eggs), and another quarter - complex carbohydrates (porridge, whole grain bread). This approach ensures balance without counting calories.",
                "article_2_title": "Why is activity important?",
                "article_2_desc": "Movement is not just about burning calories. Regular activity lowers cortisol levels (stress hormone), improves insulin sensitivity, and strengthens the cardiovascular system. Even 30 minutes of walking a day can change your life.",
                "mission_title": "Our Mission",
                "mission_desc": "Nutriway was created to make a healthy lifestyle accessible and understandable. We believe that health begins with understanding the needs of one's own body, not with strict restrictions.",
                "calc_params": "Your parameters",
                "lbl_age": "AGE (years)",
                "lbl_height": "HEIGHT (cm)",
                "lbl_weight": "WEIGHT (kg)",
                "lbl_sex": "GENDER",
                "opt_male": "Male",
                "opt_female": "Female",
                "lbl_activity": "ACTIVITY",
                "act_low": "Low",
                "act_small": "Small",
                "act_medium": "Medium",
                "act_high": "High",
                "act_sport": "Sport",
                "err_fill": "Fill in all fields correctly!",
                "btn_calc": "CALCULATE",
                "btn_correct": "Data correct",
                "btn_fix": "Fix",
                "res_rec": "Nutrition Recommendations",
                "lbl_allergy": "ALLERGIES",
                "lbl_health": "HEALTH",
                "btn_get_rec": "GET RECOMMENDATIONS",
                "res_main": "Main Indicators",
                "res_sleep": "Recommended Sleep",
                "res_duration": "Duration",
                "res_water": "Recommended Water Amount",
                "res_amount": "Amount",
                "res_vit": "Your Vitamin Map",
                "copyright": "All rights reserved",
                "hours": "hours",
                "liters": "liters",
                "macros_cal": "Calories",
                "macros_prot": "Proteins",
                "macros_fat": "Fats",
                "macros_carb": "Carbs",
                "imt_no_data": "No data",
                "imt_severe_def": "Severe deficit",
                "imt_def": "Weight deficit",
                "imt_norm": "Norm",
                "imt_pre_obese": "Pre-obesity",
                "imt_obese": "Obesity",
                "err_sus": "Are you sure about the data? Values look suspicious.",
                "vit_c_desc": "Strengthens immunity and helps iron absorption",
                "vit_d_desc": "Needed for bones and immunity",
                "vit_a_desc": "Supports vision and skin health",
                "vit_b1_desc": "Necessary for the nervous system",
                "vit_b6_desc": "Important for brain and protein metabolism",
                "vit_b12_desc": "Needed for blood and nerves",
                "vit_approx": "This is about",
                "vit_lemon": "g lemon",
                "vit_salmon": "g salmon",
                "vit_carrot": "g carrot",
                "vit_pork": "g pork",
                "vit_tuna": "g tuna",
                "vit_liver": "g chicken liver"
            }
        };

        let currentLang = localStorage.getItem('lang') || 'uk';

        function toggleLanguage() {
            currentLang = currentLang === 'uk' ? 'en' : 'uk';
            localStorage.setItem('lang', currentLang);
            updateLanguage();
        }

        function updateLanguage() {
            // Update button text SAFELY targeting the span inside
            const langText = document.getElementById('lang-text');
            if(langText) {
                langText.innerText = currentLang === 'uk' ? 'UA' : 'EN';
            } else {
                 // Fallback if structure changes
                 const btn = document.getElementById('lang-toggle');
                 btn.innerText = currentLang === 'uk' ? 'UA' : 'EN';
            }
            
            // Update all elements with data-lang-key
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.getAttribute('data-lang-key');
                if (translations[currentLang][key]) {
                    el.innerText = translations[currentLang][key];
                }
            });

            // Re-render calculator results if they are visible (to update dynamic text)
            if(!document.getElementById('resultArea').classList.contains('hidden')) {
                calculateAndDisplay();
            }
        }
        
        // Initialize language on load
        window.addEventListener('DOMContentLoaded', () => {
            updateLanguage();
        });

        // Helper for dynamic translations
        function getTrans(key) {
            return translations[currentLang][key] || key;
        }

        // --- THEME LOGIC START ---
        const themeBtn = document.getElementById('theme-toggle');
        const themeIcon = themeBtn.querySelector('i');
        const htmlEl = document.documentElement;

        function applyTheme(isDark) {
            if (isDark) {
                htmlEl.classList.add('dark');
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            } else {
                htmlEl.classList.remove('dark');
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
            }
        }

        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            applyTheme(true);
        } else {
            applyTheme(false);
        }

        themeBtn.addEventListener('click', () => {
            if (htmlEl.classList.contains('dark')) {
                localStorage.theme = 'light';
                applyTheme(false);
            } else {
                localStorage.theme = 'dark';
                applyTheme(true);
            }
        });
        // --- THEME LOGIC END ---

        // --- 1. NAV LOGIC ---
        function toggleMenu() {
            const menu = document.getElementById('mobile-menu');
            const overlay = document.getElementById('menu-overlay');
            const icon = document.getElementById('menu-icon');
            if (menu.classList.contains('active')) {
                menu.classList.remove('active');
                overlay.classList.remove('active');
                icon.className = "fas fa-bars text-2xl";
                document.body.style.overflow = "auto";
            } else {
                menu.classList.add('active');
                overlay.classList.add('active');
                icon.className = "fas fa-times text-2xl";
                document.body.style.overflow = "hidden";
            }
        }

        function showPage(pageId) {
            document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
            const page = document.getElementById(pageId + '-page');
            if(page) page.classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // --- 2. CALCULATOR LOGIC ---
        let ReTryBut = 0;

        // "Send" function alias, in case it's used elsewhere
        function send() { showData(); }

        function clearResult(){
          document.getElementById('confirm-buttons').classList.add('hidden');
          document.getElementById('resultArea').classList.add('hidden');
          document.getElementById('vitamin-section').classList.add('hidden');
          document.getElementById('macros-section').classList.add('hidden');
          document.getElementById('sleep-section').classList.add('hidden');
          document.getElementById('water-section').classList.add('hidden');
          document.getElementById('calc-error-msg').classList.add('hidden');
        }

        function reTry(){
          ReTryBut=0;
          clearResult();
        }
        
        // This function is called when data is confirmed to show results on the SAME page
        function showResultsInPlace() {
             ReTryBut=0;
             document.getElementById('confirm-buttons').classList.add('hidden');
             calculateAndDisplay();
        }

        function IMT(){
            const height = Number(document.getElementById('height').value);
            const weight = Number(document.getElementById('weight').value);
            if(!height||!weight) return NaN;
            return Number((weight/((height/100)**2)).toFixed(2));
        }

        function IMT_Interpretation(imt_value){
            if(!isFinite(imt_value)) return getTrans('imt_no_data');
            if(imt_value<16) return getTrans('imt_severe_def');
            if(imt_value<18.5) return getTrans('imt_def');
            if(imt_value<25) return getTrans('imt_norm');
            if(imt_value<30) return getTrans('imt_pre_obese');
            return getTrans('imt_obese');
        }

        function BMR(age,height,weight,gender,activity){
            age=Number(age);height=Number(height);weight=Number(weight);
            const multipliers={very_high:1.9,high:1.725,medium:1.55,small:1.375,low:1.2};
            let bmr = (10*weight)+(6.25*height)-(5*age)+(gender==='male'?5:-161);
            return bmr*(multipliers[activity]??1.55);
        }

        function proteins(activity,weight){const m={very_high:2,high:1.8,medium:1.4,small:1.2,low:0.8}; return Number(weight)*(m[activity]??1.4)}
        function fat(brm_last){return (0.3*brm_last)/9}
        function carb(brm_last, proteins, fat){
            const proteinKcal = proteins * 4;
            const fatKcal = fat * 9;
            const carbKcal = brm_last - proteinKcal - fatKcal;
            const carbGrams = carbKcal / 4;
            return carbGrams;
        }

        function vitamins(age,gender,weight,activity){
            age=Number(age);weight=Number(weight);
            const multipliers={very_high:1.4,high:1.2,medium:1.1,small:1,low:0.8};
            const vitaminRDA={Vitamin_C:90,Vitamin_D:800,Vitamin_A:700,Vitamin_B1:1.1,Vitamin_B6:1.3,Vitamin_B12:2.4};
            const genderFactor={male:1,female:0.9};
            let ageFactor = age<=3?0.8:age<=8?0.9:age<=13?1:age<=18?1.1:age<=50?1:1.2;
            const activityMultiplier = multipliers[activity] ?? 1.1;
            const gFactor = genderFactor[gender] ?? 1;
            const weightFactor = (weight>0)?(weight/70):1;
            return {
            Vitamin_D: vitaminRDA.Vitamin_D * ageFactor * gFactor * activityMultiplier * weightFactor,
            Vitamin_C: vitaminRDA.Vitamin_C * ageFactor * gFactor * activityMultiplier * weightFactor,
            Vitamin_B12: vitaminRDA.Vitamin_B12 * ageFactor * gFactor * activityMultiplier * weightFactor,
            Vitamin_A: vitaminRDA.Vitamin_A * ageFactor * gFactor * activityMultiplier * weightFactor,
            Vitamin_B1: vitaminRDA.Vitamin_B1 * ageFactor * gFactor * activityMultiplier * weightFactor,
            Vitamin_B6: vitaminRDA.Vitamin_B6 * ageFactor * gFactor * activityMultiplier * weightFactor
            };
        }

        function getSleepRecommendation(age) {
            const h = getTrans('hours');
            if (age >= 1 && age <= 2) return `13 ${h}`;
            if (age >= 3 && age <= 5) return `12 ${h}`;
            if (age >= 6 && age <= 13) return `10 ${h}`;
            if (age >= 14 && age <= 17) return `9 ${h}`;
            if (age >= 18 && age <= 25) return `8 ${h}`;
            if (age >= 26 && age <= 64) return `8 ${h}`;
            if (age >= 65) return `7 ${h}`;
            if (age < 1 && age >= 0) return `14-17 ${h}`;
            return `8 ${h}`;
        }

        function getWaterRecommendation(weight) {
            const water = weight * 0.033;
            return water.toFixed(2) + " " + getTrans('liters');
        }

        function showData(){
            const ageRaw = document.getElementById('age').value;
            const heightRaw = document.getElementById('height').value;
            const weightRaw = document.getElementById('weight').value;
            const allergy = document.getElementById('allergy').value; 
            const health = document.getElementById('health').value;   

            const age = Number(ageRaw), height = Number(heightRaw), weight = Number(weightRaw);
            
            // Validation
            if(!ageRaw||!heightRaw||!weightRaw){
                document.getElementById('calc-error-msg').innerText = getTrans('err_fill');
                document.getElementById('calc-error-msg').classList.remove('hidden');
                return;
            }
            document.getElementById('calc-error-msg').classList.add('hidden');

            // Suspicious data check
            if(((age>100||height>210||weight>200)||(age<=1||height<=35||weight<=2)) && ReTryBut==0){
                 document.getElementById('calc-error-msg').innerText = getTrans('err_sus');
                 document.getElementById('calc-error-msg').classList.remove('hidden');
                 document.getElementById('confirm-buttons').classList.remove('hidden');
                 ReTryBut=1; 
                 return;
            }

            // Valid data proceed - show results immediately (restored behavior)
            ReTryBut=0;
            document.getElementById('confirm-buttons').classList.add('hidden');
            calculateAndDisplay();
        }

        function calculateAndDisplay() {
             const age = Number(document.getElementById('age').value);
             const height = Number(document.getElementById('height').value);
             const weight = Number(document.getElementById('weight').value);
             const gender = document.querySelector('input[name="gender"]:checked')?.value || 'male';
             const activity = document.querySelector('input[name="activity"]:checked')?.value || 'medium';
             const allergy = document.getElementById('allergy').value; 
             const health = document.getElementById('health').value;   
             
             document.getElementById('resultArea').classList.remove('hidden');

            try{
                const bmrVal = BMR(age,height,weight,gender,activity);
                const imtVal = IMT();
                const sleepRec = getSleepRecommendation(age);
                const waterRec = getWaterRecommendation(weight);

                const calVal = Number(bmrVal).toFixed(0);
                const protVal = Number(proteins(activity,weight)).toFixed(0);
                const fatVal = Number(fat(bmrVal)).toFixed(0);
                const carbVal = Number(carb(bmrVal, protVal, fatVal)).toFixed(0);

                const macrosHTML = `
                    <div class="flex flex-col items-center p-4 bg-orange-50 dark:bg-orange-900/20 rounded-2xl border border-orange-100 dark:border-orange-900/30">
                        <div class="text-orange-500 text-2xl mb-2"><i class="fas fa-fire"></i></div>
                        <div class="text-xs text-gray-500 dark:text-gray-400 font-bold uppercase">${getTrans('macros_cal')}</div>
                        <div class="text-lg font-bold text-gray-900 dark:text-white">${calVal}</div>
                    </div>
                    <div class="flex flex-col items-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-900/30">
                        <div class="text-blue-500 text-2xl mb-2"><i class="fas fa-dumbbell"></i></div>
                        <div class="text-xs text-gray-500 dark:text-gray-400 font-bold uppercase">${getTrans('macros_prot')}</div>
                        <div class="text-lg font-bold text-gray-900 dark:text-white">${protVal} g</div>
                    </div>
                    <div class="flex flex-col items-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-2xl border border-yellow-100 dark:border-yellow-900/30">
                        <div class="text-yellow-500 text-2xl mb-2"><i class="fas fa-tint"></i></div>
                        <div class="text-xs text-gray-500 dark:text-gray-400 font-bold uppercase">${getTrans('macros_fat')}</div>
                        <div class="text-lg font-bold text-gray-900 dark:text-white">${fatVal} g</div>
                    </div>
                    <div class="flex flex-col items-center p-4 bg-amber-50 dark:bg-amber-900/20 rounded-2xl border border-amber-100 dark:border-amber-900/30">
                        <div class="text-amber-500 text-2xl mb-2"><i class="fas fa-bread-slice"></i></div>
                        <div class="text-xs text-gray-500 dark:text-gray-400 font-bold uppercase">${getTrans('macros_carb')}</div>
                        <div class="text-lg font-bold text-gray-900 dark:text-white">${carbVal} g</div>
                    </div>  
                `;
                document.getElementById('macros-grid-container').innerHTML = macrosHTML;
                document.getElementById('macros-section').classList.remove('hidden');

                // IMT
                const imtStatus = IMT_Interpretation(imtVal);
                let statusColorClass = 'text-gray-700';
                let statusBgClass = 'bg-gray-100';

                if (imtVal < 18.5) {
                    statusColorClass = 'text-blue-600'; statusBgClass = 'bg-blue-100 dark:bg-blue-900/30';
                } else if (imtVal < 25) {
                    statusColorClass = 'text-green-600'; statusBgClass = 'bg-green-100 dark:bg-green-900/30';
                } else if (imtVal < 30) {
                    statusColorClass = 'text-orange-500'; statusBgClass = 'bg-orange-100 dark:bg-orange-900/30';
                } else {
                    statusColorClass = 'text-red-600'; statusBgClass = 'bg-red-100 dark:bg-red-900/30';
                }

                document.getElementById('imt-display').innerHTML = `
                    <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
                        <span class="text-xl font-bold dark:text-gray-200">${getTrans('card_imt')}: <span class="text-2xl">${imtVal}</span></span>
                        <span class="px-4 py-2 rounded-xl font-bold border ${statusColorClass} ${statusBgClass} border-current shadow-sm transition-all duration-300">
                            ${imtStatus}
                        </span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3 mt-4 dark:bg-gray-700 overflow-hidden shadow-inner">
                        <div class="h-3 rounded-full transition-all duration-1000 ease-out ${statusColorClass.replace('text-', 'bg-')}" style="width: ${Math.min((imtVal / 40) * 100, 100)}%"></div>
                    </div>
                `;

                let extraInfo = '';
                if(allergy) extraInfo += `${getTrans('lbl_allergy')}: ${allergy}\n`;
                if(health) extraInfo += `${getTrans('lbl_health')}: ${health}`;
                document.getElementById('text-info').innerText = extraInfo;

                document.getElementById('sleep-value').innerText = sleepRec;
                document.getElementById('sleep-section').classList.remove('hidden');
                
                document.getElementById('water-value').innerText = waterRec;
                document.getElementById('water-section').classList.remove('hidden');

                const vitaminInfo = {
                    Vitamin_C: {
                        name: "Vitamin C", unit: "mg", icon: "lemon", color: "text-orange-500",
                        desc: getTrans('vit_c_desc'),
                        info_desc: (val) => { const grams = (val / 53 * 100).toFixed(0); return `${getTrans('vit_approx')} ${grams} ${getTrans('vit_lemon')}`; }
                    },
                    Vitamin_D: {
                        name: "Vitamin D", unit: "IU", icon: "sun", color: "text-yellow-500",
                        desc: getTrans('vit_d_desc'),
                        info_desc: (val) => { const grams = (val / 526 * 100).toFixed(0); return `${getTrans('vit_approx')} ${grams} ${getTrans('vit_salmon')}`; }
                    },
                    Vitamin_A: {
                        name: "Vitamin A", unit: "mcg", icon: "eye", color: "text-green-500",
                        desc: getTrans('vit_a_desc'),
                        info_desc: (val) => { const grams = (val / 835 * 100).toFixed(0); return `${getTrans('vit_approx')} ${grams} ${getTrans('vit_carrot')}`; }
                    },
                    Vitamin_B1: {
                        name: "Vitamin B1", unit: "mg", icon: "bolt", color: "text-red-500",
                        desc: getTrans('vit_b1_desc'),
                        info_desc: (val) => { const grams = (val / 0.8 * 100).toFixed(0); return `${getTrans('vit_approx')} ${grams} ${getTrans('vit_pork')}`; }
                    },
                    Vitamin_B6: {
                        name: "Vitamin B6", unit: "mg", icon: "capsules", color: "text-purple-500",
                        desc: getTrans('vit_b6_desc'),
                        info_desc: (val) => { const grams = (val / 1.0 * 100).toFixed(0); return `${getTrans('vit_approx')} ${grams} ${getTrans('vit_tuna')}`; }
                    },
                    Vitamin_B12: {
                        name: "Vitamin B12", unit: "mcg", icon: "brain", color: "text-pink-500",
                        desc: getTrans('vit_b12_desc'),
                        info_desc: (val) => { const grams = (val / 20 * 100).toFixed(0); return `${getTrans('vit_approx')} ${grams} ${getTrans('vit_liver')}`; }
                    }
                };
                
                const vitaminValues = vitamins(age, gender, weight, activity);
                let cardsHTML = '';
                for (const key in vitaminValues) {
                    const val = vitaminValues[key];
                    const info = vitaminInfo[key];
                    cardsHTML += `
                        <div class="vit-item bg-gray-50 dark:bg-gray-700/50 dark:border-gray-600 border border-gray-100 transition-colors duration-300">
                            <div class="vit-icon-box ${info.color}"><i class="fas fa-${info.icon}"></i></div>
                            <div>
                                <h5 class="font-bold text-sm text-gray-800 dark:text-gray-100">${info.name}</h5>
                                <p class="font-bold text-gray-900 dark:text-white">${val.toFixed(2)} ${info.unit}</p>
                                <h6 class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                                ${info.desc}<br>
                                <span class="italic">${info.info_desc(val)}</span>
                                </h6>
                            </div>
                        </div>`;
                }
                document.getElementById('vitamin-grid-container').innerHTML = cardsHTML;
                document.getElementById('vitamin-section').classList.remove('hidden');

                const resultsBtn = document.getElementById('results-section');
                resultsBtn.classList.remove('hidden');
            } catch(err){ console.error(err); }
        }

        // --- 3. ADMIN PANEL LOGIC ---
        let isAdmin = false;
        let selectedElement = null;
        let isDragging = false;
        let isResizing = false;
        let startX, startY, startLeft, startTop, startWidth, startHeight;
        
        const historyStack = [];
        let historyIndex = -1;

        function openAdminAuth() {
            setTimeout(() => {
                const pass = prompt("–ü–∞—Ä–æ–ª—å:", "Admin_GPT");
                if (pass === "Admin_GPT") toggleAdmin(true);
                else alert("–ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å");
            }, 100);
        }

        function toggleAdmin(active) {
            isAdmin = active;
            const panel = document.getElementById('admin-panel');
            if (active) {
                panel.classList.add('active');
                if (historyStack.length === 0) saveState();
                updateSiteControls();
            } else {
                panel.classList.remove('active');
                deselect();
            }
        }

        function saveState() {
            if (!isAdmin) return;
            const content = document.getElementById('content-area').innerHTML;
            const rootStyle = getComputedStyle(document.documentElement);
            const siteStyles = {
                '--site-color-top': rootStyle.getPropertyValue('--site-color-top'),
                '--site-color-bot': rootStyle.getPropertyValue('--site-color-bot'),
                '--site-gradient-angle': rootStyle.getPropertyValue('--site-gradient-angle')
            };
            historyStack.push({ content, siteStyles });
            historyIndex++;
        }

        function updateSiteGradient() {
            const top = document.getElementById('site-color-top').value;
            const bot = document.getElementById('site-color-bot').value;
            const angle = document.getElementById('site-gradient-angle').value;
            
            document.documentElement.style.setProperty('--site-color-top', top);
            document.documentElement.style.setProperty('--site-color-bot', bot);
            document.documentElement.style.setProperty('--site-gradient-angle', angle + 'deg');
        }

        function updateSiteControls() {
            const style = getComputedStyle(document.documentElement);
            document.getElementById('site-color-top').value = style.getPropertyValue('--site-color-top').trim();
            document.getElementById('site-color-bot').value = style.getPropertyValue('--site-color-bot').trim();
        }

        document.getElementById('site-color-top').oninput = updateSiteGradient;
        document.getElementById('site-color-bot').oninput = updateSiteGradient;
        document.getElementById('site-gradient-angle').oninput = updateSiteGradient;

        document.getElementById('add-card-struct').onclick = () => {
            let grid = document.querySelector('.page-content.active .grid');
            if (!grid) grid = document.getElementById('diag-grid');
            if (!grid) { alert("–ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ —Å—ñ—Ç–∫–∏ (grid)."); return; }

            const card = document.createElement('div');
            card.className = 'card'; 
            card.style.setProperty('--card-color-top', '#667eea');
            card.style.setProperty('--card-color-bot', '#764ba2');
            
            card.innerHTML = `
                <img src="https://images.unsplash.com/photo-1579546929518-9e396f3cc809?w=500&auto=format&fit=crop" class="card-image" alt="New">
                <div class="card-content">
                    <h2 class="editable-text">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h2>
                    <p class="editable-text">–í–∞—à –æ–ø–∏—Å —Ç—É—Ç.</p>
                </div>
            `;
            grid.appendChild(card);
            saveState();
        };

        document.getElementById('add-hero-banner').onclick = () => createMovableElement('hero', '');
        document.getElementById('add-float-text').onclick = () => createMovableElement('text', '–í–∞—à —Ç–µ–∫—Å—Ç');
        document.getElementById('add-float-img').onclick = () => {
            const url = prompt("URL:", "https://source.unsplash.com/random/200x200");
            if(url) createMovableElement('img', url);
        };

        function createMovableElement(type, content) {
            const container = document.querySelector('.page-content.active .container') || document.body;
            const box = document.createElement('div');
            box.className = 'movable-box';
            box.style.left = '50px'; box.style.top = '100px';
            
            const inner = document.createElement('div');
            inner.className = 'movable-content';

            if (type === 'text') {
                inner.innerText = content;
                inner.style.padding = '10px';
                inner.style.background = 'white';
                inner.classList.add('editable-text');
                box.style.width = '200px';
            } else if (type === 'img') {
                const img = document.createElement('img');
                img.src = content; img.style.width='100%'; img.style.height='100%';
                inner.appendChild(img);
                box.style.width = '200px'; box.style.height = '200px';
            } else if (type === 'hero') {
                box.style.width = '100%'; box.style.maxWidth = '800px'; box.style.height = '250px';
                inner.classList.add('hero-banner-style'); 
                inner.innerHTML = `
                    <img src="" class="hero-banner-img" style="display: none;">
                    <h2 class="editable-text text-2xl font-bold">–ó–¥–æ—Ä–æ–≤–µ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è</h2>
                    <p class="editable-text">–í–∞—à —à–ª—è—Ö –¥–æ —ñ–¥–µ–∞–ª—å–Ω–æ—ó —Ñ–æ—Ä–º–∏.</p>
                `;
            }
            
            const handle = document.createElement('div');
            handle.className = 'resize-handle';
            box.appendChild(inner); box.appendChild(handle);
            container.appendChild(box);
            selectElement(box);
            saveState();
        }

        function selectElement(el) {
            if(selectedElement && selectedElement !== el) deselect();
            selectedElement = el;
            
            document.querySelectorAll('.selected-element').forEach(e => e.classList.remove('selected-element'));
            el.classList.add('selected-element');
            document.getElementById('style-controls').classList.add('active');

            document.getElementById('card-style-controls').style.display = 'none';
            document.getElementById('hero-style-controls').style.display = 'none';

            if (el.classList.contains('card')) {
                document.getElementById('card-style-controls').style.display = 'block';
                const topVal = el.style.getPropertyValue('--card-color-top') || '#667eea';
                const botVal = el.style.getPropertyValue('--card-color-bot') || '#764ba2';
                document.getElementById('card-color-top').value = rgbToHex(topVal.trim());
                document.getElementById('card-color-bot').value = rgbToHex(botVal.trim());
                const img = el.querySelector('img');
                if(img) document.getElementById('card-img-url').value = img.src;
            }

            if (el.classList.contains('movable-box') && el.querySelector('.hero-banner-style')) {
                document.getElementById('hero-style-controls').style.display = 'block';
                const heroInner = el.querySelector('.hero-banner-style');
                const hTop = heroInner.style.getPropertyValue('--hero-bg-top') || '#42a5f5';
                const hBot = heroInner.style.getPropertyValue('--hero-bg-bot') || '#26a69a';
                document.getElementById('hero-grad-top').value = rgbToHex(hTop.trim());
                document.getElementById('hero-grad-bot').value = rgbToHex(hBot.trim());
                const heroImg = heroInner.querySelector('.hero-banner-img');
                if (heroImg && heroImg.src && heroImg.style.display !== 'none') {
                    document.getElementById('hero-img-url').value = heroImg.src;
                } else {
                    document.getElementById('hero-img-url').value = '';
                }
            }
        }

        function deselect() {
            if (selectedElement) {
                selectedElement.classList.remove('selected-element');
                if (selectedElement.isContentEditable) selectedElement.contentEditable = "false";
                selectedElement = null;
                document.getElementById('style-controls').classList.remove('active');
            }
        }

        function initFonts() {
            const fonts = ["Montserrat", "Roboto", "Open Sans", "Oswald", "Pacifico", "Lobster", "Comfortaa", "Arial", "Inter", "Poppins", "Lato", "Nunito", "Raleway", "Ubuntu", "Bebas Neue", "Anton", "Playfair Display", "Cinzel", "Dancing Script", "Great Vibes", "Indie Flower"];
            const sel = document.getElementById('font-select');
            fonts.forEach(f => {
                const opt = document.createElement('option');
                opt.value = f; opt.innerText = f;
                sel.appendChild(opt);
            });
        }
        initFonts();

        function rgbToHex(rgb) {
            if(!rgb || rgb.includes('rgba(0, 0, 0, 0)') || rgb === 'transparent') return "#ffffff";
            if(rgb.startsWith('#')) return rgb;
            let sep = rgb.indexOf(",") > -1 ? "," : " ";
            let rgbArr = rgb.substr(4).split(")")[0].split(sep);
            if (rgbArr.length === 4) rgbArr.pop();
            let r = (+rgbArr[0]).toString(16), g = (+rgbArr[1]).toString(16), b = (+rgbArr[2]).toString(16);
            if(r.length==1)r="0"+r; if(g.length==1)g="0"+g; if(b.length==1)b="0"+b;
            return "#" + r + g + b;
        }

        document.addEventListener('mousedown', (e) => {
            if (!isAdmin) return;
            const target = e.target;
            if (target.closest('#admin-panel')) return;

            // 1. –°–ø–æ—á–∞—Ç–∫—É –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ resize (—â–æ–± –ø—Ä–∞—Ü—é–≤–∞–ª–æ –Ω–∞ –±—É–¥—å-—è–∫–æ–º—É –µ–ª–µ–º–µ–Ω—Ç—ñ)
            if (target.classList.contains('resize-handle')) {
                e.preventDefault(); e.stopPropagation(); isResizing = true;
                selectedElement = target.parentElement;
                startX = e.clientX; startY = e.clientY;
                startWidth = selectedElement.offsetWidth; startHeight = selectedElement.offsetHeight;
                return;
            }

            // 2. –ü–û–¢–Ü–ú –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —Ç–µ–∫—Å—Ç (—Ü–µ –¥–æ–∑–≤–æ–ª—è—î —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç –í–°–ï–†–ï–î–ò–ù–Ü –∫–∞—Ä—Ç–æ–∫)
            if (target.classList.contains('editable-text')) {
                 selectElement(target); 
                 target.contentEditable = "true"; 
                 target.focus(); 
                 return; // –í–∏—Ö–æ–¥–∏–º–æ, —â–æ–± –Ω–µ —Å–ø—Ä–∞—Ü—é–≤–∞–≤ drag/drop –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞
            }

            // 3. –†—É—Ö–æ–º—ñ –±–æ–∫—Å–∏
            const box = target.closest('.movable-box');
            if (box) {
                e.preventDefault(); selectElement(box); isDragging = true;
                startX = e.clientX; startY = e.clientY;
                startLeft = box.offsetLeft; startTop = box.offsetTop;
                return;
            }

            // 4. –ö–∞—Ä—Ç–∫–∏
            const card = target.closest('.card');
            if(card) { 
                e.preventDefault(); selectElement(card); return; 
            }

            deselect();
        });

        document.addEventListener('mousemove', (e) => {
            if (!isAdmin) return;
            if (isDragging && selectedElement) {
                const dx = e.clientX - startX; const dy = e.clientY - startY;
                selectedElement.style.left = (startLeft + dx) + 'px';
                selectedElement.style.top = (startTop + dy) + 'px';
            }
            if (isResizing && selectedElement) {
                const dx = e.clientX - startX; const dy = e.clientY - startY;
                selectedElement.style.width = (startWidth + dx) + 'px';
                selectedElement.style.height = (startHeight + dy) + 'px';
            }
        });

        document.addEventListener('mouseup', () => { isDragging = false; isResizing = false; });

        function applyStyle(prop, val) {
            if (!selectedElement) return;
            let target = selectedElement;
            if (selectedElement.classList.contains('movable-box')) target = selectedElement.querySelector('.movable-content');
            target.style[prop] = val;
        }

        function updateCSSVar(el, varName, val) { if(!el) return; el.style.setProperty(varName, val); }

        document.getElementById('color-text').oninput = (e) => applyStyle('color', e.target.value);
        document.getElementById('font-size-input').onchange = (e) => applyStyle('fontSize', e.target.value + 'px');
        document.getElementById('font-select').onchange = (e) => applyStyle('fontFamily', e.target.value);
        document.getElementById('color-bg').oninput = (e) => applyStyle('backgroundColor', e.target.value);
        document.getElementById('btn-no-bg').onclick = () => { document.getElementById('color-bg').value='#000000'; applyStyle('backgroundColor', 'transparent'); }
        document.getElementById('btn-delete').onclick = () => { if(selectedElement) selectedElement.remove(); deselect(); };

        document.getElementById('card-color-top').oninput = (e) => updateCSSVar(selectedElement, '--card-color-top', e.target.value);
        document.getElementById('card-color-bot').oninput = (e) => updateCSSVar(selectedElement, '--card-color-bot', e.target.value);
        document.getElementById('card-img-url').oninput = (e) => {
            if (!selectedElement || !selectedElement.classList.contains('card')) return;
            const img = selectedElement.querySelector('img');
            if(img && e.target.value.trim() !== "") img.src = e.target.value;
        };

        document.getElementById('hero-grad-top').oninput = (e) => {
            const inner = selectedElement.querySelector('.hero-banner-style');
            updateCSSVar(inner, '--hero-bg-top', e.target.value);
        };
        document.getElementById('hero-grad-bot').oninput = (e) => {
            const inner = selectedElement.querySelector('.hero-banner-style');
            updateCSSVar(inner, '--hero-bg-bot', e.target.value);
        };
        document.getElementById('hero-img-url').oninput = (e) => {
            const inner = selectedElement.querySelector('.hero-banner-style');
            if (!inner) return;
            let img = inner.querySelector('.hero-banner-img');
            if (e.target.value.trim() !== "") {
                img.src = e.target.value; img.style.display = 'block';
            } else { img.style.display = 'none'; }
        };
        function closeDisclaimer() {
            const overlay = document.getElementById('disclaimer-overlay');
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.style.display = 'none';
            }, 500);
        }
    </script>
</body>
</html>